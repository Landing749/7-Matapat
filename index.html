<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grade 7â€“Matapat | CvSU</title>
  <link id="favicon" rel="icon" type="image/x-icon" href="favicon.ico">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #f8f9fa;
      color: #333;
      line-height: 1.6;
      width: 100%;
      overflow-x: hidden;
      transition: background 0.5s ease;
    }

    /* Seasonal Themes */
    body.theme-spring {
      background: linear-gradient(135deg, #FFF3E0 0%, #FFE0B2 100%);
    }

    body.theme-spring .hero {
      background: linear-gradient(135deg, #66BB6A 0%, #81C784 50%, #A5D6A7 100%);
    }

    body.theme-summer {
      background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
    }

    body.theme-summer .hero {
      background: linear-gradient(135deg, #42A5F5 0%, #64B5F6 50%, #90CAF9 100%);
    }

    body.theme-autumn {
      background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
    }

    body.theme-autumn .hero {
      background: linear-gradient(135deg, #FF7043 0%, #FF8A65 50%, #FFAB91 100%);
    }

    body.theme-winter {
      background: linear-gradient(135deg, #E1F5FE 0%, #B3E5FC 100%);
    }

    body.theme-winter .hero {
      background: linear-gradient(135deg, #0277BD 0%, #0288D1 50%, #03A9F4 100%);
    }

    /* Falling Leaves Animation */
    .falling-leaf {
      position: fixed;
      width: 20px;
      height: 20px;
      pointer-events: none;
      z-index: 9999;
      animation: fall linear infinite;
      opacity: 0.8;
    }

    @keyframes fall {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0.3;
      }
    }

    /* Snowflakes Animation */
    .snowflake {
      position: fixed;
      color: white;
      font-size: 20px;
      pointer-events: none;
      z-index: 9999;
      animation: snowfall linear infinite;
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    }

    @keyframes snowfall {
      0% {
        transform: translateY(-100px) translateX(0);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) translateX(50px);
        opacity: 0.3;
      }
    }

    /* Flowers Animation */
    .flower {
      position: fixed;
      font-size: 24px;
      pointer-events: none;
      z-index: 9999;
      animation: floatUp linear infinite;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(100vh) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) rotate(360deg);
        opacity: 0.3;
      }
    }

    /* Sun rays Animation */
    .sun-ray {
      position: fixed;
      font-size: 30px;
      pointer-events: none;
      z-index: 9999;
      animation: sunshine linear infinite;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
    }

    @keyframes sunshine {
      0% {
        transform: translateY(-100px) scale(0.5);
        opacity: 1;
      }
      50% {
        opacity: 0.8;
      }
      100% {
        transform: translateY(100vh) scale(1.2);
        opacity: 0;
      }
    }

    /* Sticky Navbar */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      transition: all 0.3s ease;
      width: 100%;
    }

    .navbar.scrolled {
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
    }

    .navbar-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: 800;
      color: #1B5E20;
      text-decoration: none;
    }

    .nav-logo {
      width: 35px;
      height: 35px;
      object-fit: contain;
      filter: drop-shadow(0 2px 8px rgba(27, 94, 32, 0.3));
      transition: transform 0.3s ease;
    }

    .nav-logo:hover {
      transform: scale(1.05);
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 28px;
      color: #1B5E20;
      cursor: pointer;
      padding: 8px;
    }

    .navbar-menu {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .nav-link {
      color: #555;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      transition: color 0.3s ease;
      position: relative;
      padding: 8px 0;
      white-space: nowrap;
    }

    .nav-link:hover {
      color: #1B5E20;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: #1B5E20;
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .btn {
      padding: 10px 24px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .btn-outline {
      background: transparent;
      color: #1B5E20;
      border: 2px solid #1B5E20;
    }

    .btn-outline:hover {
      background: #1B5E20;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .btn-primary {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      border: none;
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(27, 94, 32, 0.4);
    }

    .btn-success {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
    }

    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(27, 94, 32, 0.4);
    }

    .btn-danger {
      background: linear-gradient(135deg, #d32f2f, #c62828);
      color: white;
      padding: 8px 16px;
      font-size: 14px;
    }

    .btn-danger:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(211, 47, 47, 0.4);
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
      transform: translateY(-2px);
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 14px;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(27, 94, 32, 0.2);
    }

    .user-avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 20px rgba(27, 94, 32, 0.3);
    }

    /* Hero Section */
    .hero {
      margin-top: 70px;
      background: linear-gradient(135deg, #1B5E20 0%, #2E7D32 50%, #388E3C 100%);
      color: white;
      padding: 120px 20px 80px;
      text-align: center;
      position: relative;
      overflow: hidden;
      width: 100%;
      transition: background 0.5s ease;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity: 0.3;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
      animation: fadeInUp 1s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero h1 {
      font-size: 64px;
      font-weight: 900;
      margin-bottom: 16px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      letter-spacing: -1px;
      animation: fadeInUp 1s ease 0.2s backwards;
    }

    .hero .subtitle {
      font-size: 28px;
      opacity: 0.95;
      margin-bottom: 12px;
      font-weight: 300;
      animation: fadeInUp 1s ease 0.4s backwards;
    }

    .hero .tagline {
      font-size: 18px;
      opacity: 0.85;
      margin-bottom: 40px;
      animation: fadeInUp 1s ease 0.6s backwards;
    }

    /* Room Logo */
    .room-logo-container {
      margin-bottom: 32px;
      animation: fadeInUp 1s ease backwards;
    }

    .room-logo {
      max-width: 180px;
      max-height: 180px;
      filter: drop-shadow(0 8px 30px rgba(0, 0, 0, 0.3));
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }

    /* Room Motto Section */
    .motto-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      margin: 48px auto 64px;
      max-width: 900px;
      animation: fadeInUp 1s ease 0.6s backwards;
    }

    .motto-decoration {
      width: 80px;
      height: 80px;
      color: rgba(255, 255, 255, 0.8);
      flex-shrink: 0;
      animation: pulse 2s ease-in-out infinite;
    }

    .motto-decoration.left {
      animation-delay: 0s;
    }

    .motto-decoration.right {
      animation-delay: 0.5s;
      transform: scaleX(-1);
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    .motto-text-wrapper {
      flex: 1;
      position: relative;
      padding: 32px 40px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .motto-text-wrapper::before,
    .motto-text-wrapper::after {
      content: '"';
      position: absolute;
      font-size: 80px;
      font-weight: 900;
      opacity: 0.2;
      font-family: Georgia, serif;
      color: white;
    }

    .motto-text-wrapper::before {
      top: -20px;
      left: 20px;
    }

    .motto-text-wrapper::after {
      bottom: -40px;
      right: 20px;
    }

    .motto-text {
      font-size: 28px;
      font-weight: 700;
      line-height: 1.6;
      text-align: center;
      color: white;
      font-style: italic;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      margin: 0;
      position: relative;
      z-index: 1;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 80px;
      margin-top: 60px;
      flex-wrap: wrap;
      animation: fadeInUp 1s ease 0.8s backwards;
    }

    .stat-item {
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      transition: transform 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-8px);
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      opacity: 0.9;
      filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.2));
    }

    .stat-number {
      font-size: 56px;
      font-weight: 900;
      display: block;
      margin-bottom: 4px;
      text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .stat-label {
      font-size: 16px;
      opacity: 0.95;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Section Styles */
    .section {
      padding: 100px 20px;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    .section-header {
      text-align: center;
      margin-bottom: 60px;
      animation: fadeInUp 0.8s ease;
    }

    .section-badge {
      display: inline-block;
      background: rgba(27, 94, 32, 0.1);
      color: #1B5E20;
      padding: 8px 20px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }

    .section-title {
      font-size: 48px;
      color: #1B5E20;
      margin-bottom: 16px;
      font-weight: 900;
      letter-spacing: -1px;
    }

    .section-description {
      font-size: 18px;
      color: #666;
      max-width: 700px;
      margin: 0 auto 32px;
      line-height: 1.8;
    }

    /* Weather Widget Styles */
    .weather-widget-container {
      max-width: 600px;
      margin: 0 auto;
    }

    .weather-widget {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .weather-widget::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(33, 150, 243, 0.05) 0%, transparent 70%);
      animation: weatherPulse 4s ease-in-out infinite;
    }

    @keyframes weatherPulse {
      0%, 100% { transform: scale(1); opacity: 0.5; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }

    .weather-icon-display {
      font-size: 120px;
      margin-bottom: 20px;
      animation: weatherFloat 3s ease-in-out infinite;
      position: relative;
      z-index: 1;
    }

    @keyframes weatherFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .weather-temp {
      font-size: 64px;
      font-weight: 900;
      color: #1976D2;
      margin-bottom: 12px;
      position: relative;
      z-index: 1;
    }

    .weather-description {
      font-size: 24px;
      color: #666;
      font-weight: 600;
      margin-bottom: 24px;
      text-transform: capitalize;
      position: relative;
      z-index: 1;
    }

    .weather-location {
      font-size: 18px;
      color: #888;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-bottom: 24px;
      position: relative;
      z-index: 1;
    }

    .weather-details {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin-top: 32px;
      padding-top: 32px;
      border-top: 2px solid #f0f0f0;
      position: relative;
      z-index: 1;
    }

    .weather-detail-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .weather-detail-icon {
      font-size: 32px;
    }

    .weather-detail-label {
      font-size: 12px;
      color: #888;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 700;
    }

    .weather-detail-value {
      font-size: 20px;
      color: #333;
      font-weight: 700;
    }

    .weather-error {
      color: #d32f2f;
      padding: 40px 20px;
      text-align: center;
    }

    /* Birthday Calendar Styles */
    .birthday-calendar-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .birthday-months {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-top: 40px;
    }

    .birthday-month-card {
      background: white;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .birthday-month-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      border-color: rgba(27, 94, 32, 0.2);
    }

    .birthday-month-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 2px solid #f0f0f0;
    }

    .birthday-month-icon {
      font-size: 32px;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.25);
    }

    .birthday-month-name {
      font-size: 24px;
      font-weight: 800;
      color: #1B5E20;
      flex: 1;
    }

    .birthday-count-badge {
      background: rgba(27, 94, 32, 0.1);
      color: #1B5E20;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 700;
    }

    .birthday-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .birthday-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.03), rgba(46, 125, 50, 0.03));
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .birthday-item:hover {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.08), rgba(46, 125, 50, 0.08));
      transform: translateX(4px);
    }

    .birthday-item-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #43A047);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 900;
      color: white;
      flex-shrink: 0;
    }

    .birthday-item-info {
      flex: 1;
    }

    .birthday-item-name {
      font-weight: 700;
      color: #333;
      font-size: 16px;
      margin-bottom: 2px;
    }

    .birthday-item-date {
      font-size: 14px;
      color: #888;
    }

    .birthday-item-cake {
      font-size: 24px;
      animation: bounce 2s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    .birthday-empty {
      text-align: center;
      padding: 40px 20px;
      color: #888;
      font-style: italic;
    }

    /* Search Bar */
    .search-container {
      position: relative;
      max-width: 600px;
      margin: 32px auto 0;
      animation: fadeInUp 0.8s ease 0.3s backwards;
    }

    .search-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      width: 24px;
      height: 24px;
      color: #888;
      pointer-events: none;
      z-index: 1;
    }

    .search-input {
      width: 100%;
      padding: 18px 56px 18px 56px;
      border: 3px solid #e0e0e0;
      border-radius: 50px;
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: white;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    .search-input:focus {
      outline: none;
      border-color: #1B5E20;
      box-shadow: 0 8px 30px rgba(27, 94, 32, 0.15);
      transform: translateY(-2px);
    }

    .search-clear {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      background: #d32f2f;
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      padding: 0;
    }

    .search-clear:hover {
      background: #c62828;
      transform: translateY(-50%) scale(1.1);
    }

    /* Modern Card Styles */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 32px;
      margin-top: 40px;
    }

    .card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      animation: fadeInUp 0.6s ease backwards;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #1B5E20, #2E7D32, #43A047);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-12px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .card:nth-child(1) { animation-delay: 0.1s; }
    .card:nth-child(2) { animation-delay: 0.2s; }
    .card:nth-child(3) { animation-delay: 0.3s; }
    .card:nth-child(4) { animation-delay: 0.4s; }
    .card:nth-child(5) { animation-delay: 0.5s; }
    .card:nth-child(6) { animation-delay: 0.6s; }

    .card-header {
      padding: 32px 28px 24px;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
    }

    .card-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      margin-bottom: 20px;
      box-shadow: 0 8px 20px rgba(27, 94, 32, 0.25);
    }

    .card-title {
      font-size: 24px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .card-meta {
      font-size: 14px;
      color: #888;
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 4px;
    }

    .card-meta-icon {
      font-size: 16px;
    }

    .card-body {
      padding: 0 28px 28px;
    }

    .card-content {
      color: #555;
      line-height: 1.7;
      margin-bottom: 20px;
    }

    .card-footer {
      padding: 20px 28px;
      border-top: 1px solid #f0f0f0;
      display: flex;
      gap: 8px;
      justify-content: flex-end;
    }

    .card-link {
      color: #1B5E20;
      font-weight: 700;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: gap 0.3s ease;
    }

    .card-link:hover {
      gap: 10px;
    }

    /* Talent Showcase - Image Card Styles */
    .talent-card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
    }

    .talent-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #1B5E20, #2E7D32, #43A047);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }

    .talent-card:hover::before {
      transform: scaleX(1);
    }

    .talent-card:hover {
      transform: translateY(-12px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .talent-image-container {
      width: 100%;
      height: 280px;
      overflow: hidden;
      background: linear-gradient(135deg, #f5f5f5, #e0e0e0);
      position: relative;
    }

    .talent-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .talent-card:hover .talent-image {
      transform: scale(1.05);
    }

    .talent-subject-badge {
      position: absolute;
      top: 16px;
      right: 16px;
      background: rgba(27, 94, 32, 0.95);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      backdrop-filter: blur(10px);
    }

    .talent-info {
      padding: 24px;
    }

    .talent-student-name {
      font-size: 20px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 8px;
    }

    .talent-description {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
    }

    /* Image Carousel - Modern Style */
    .carousel-section {
      background: white;
      padding: 80px 0;
    }

    .carousel-container {
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      background: #f5f5f5;
      min-height: 500px;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      height: 500px;
    }

    .carousel-slide {
      min-width: 100%;
      height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 40px;
    }

    .carousel-slide img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .carousel-overlay {
      position: absolute;
      bottom: 60px;
      left: 60px;
      right: 60px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 24px 32px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.8);
      transform: translateY(120%);
      transition: transform 0.4s ease;
    }

    .carousel-overlay h3 {
      color: #1B5E20 !important;
    }

    .carousel-slide:hover .carousel-overlay {
      transform: translateY(0);
    }

    .carousel-empty {
      font-size: 20px;
      color: #888;
      text-align: center;
      padding: 100px 40px;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: white;
      border: none;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      z-index: 10;
    }

    .carousel-nav:hover {
      background: #1B5E20;
      color: white;
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-nav.prev { left: 20px; }
    .carousel-nav.next { right: 20px; }

    .carousel-indicators {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 10;
    }

    .indicator {
      width: 40px;
      height: 6px;
      border-radius: 3px;
      background: rgba(255, 255, 255, 0.4);
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: white;
      width: 60px;
    }

    /* Student Cards - Special Design */
    .student-card {
      text-align: center;
      padding: 40px 28px;
      background: white;
      position: relative;
    }

    .student-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #43A047);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      font-size: 40px;
      font-weight: 900;
      color: white;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
    }

    .student-name {
      font-size: 24px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 8px;
    }

    .student-role {
      font-size: 16px;
      color: #888;
      margin-bottom: 12px;
      font-weight: 600;
    }

    .student-birthday {
      font-size: 14px;
      color: #1B5E20;
      background: rgba(27, 94, 32, 0.1);
      padding: 6px 12px;
      border-radius: 20px;
      display: inline-block;
      margin-bottom: 16px;
      font-weight: 600;
    }

    .student-motto {
      font-style: italic;
      color: #666;
      background: rgba(27, 94, 32, 0.05);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid #1B5E20;
      line-height: 1.7;
      margin-top: 12px;
    }

    .student-bio {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
      margin-top: 12px;
      padding: 16px;
      background: rgba(27, 94, 32, 0.03);
      border-radius: 8px;
      text-align: left;
    }

    .student-interests {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
      justify-content: center;
    }

    .interest-tag {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .student-fav-subject {
      margin-top: 12px;
      font-size: 13px;
      color: #1B5E20;
      font-weight: 600;
    }

    /* Modal - Modern Design */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      z-index: 2000;
      overflow-y: auto;
      padding: 20px;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal.active {
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      max-width: 1000px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      margin: 40px auto;
      box-shadow: 0 20px 80px rgba(0, 0, 0, 0.4);
      animation: slideUp 0.4s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 32px;
      border-radius: 24px 24px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h2 {
      font-size: 32px;
      font-weight: 900;
      letter-spacing: -0.5px;
    }

    .close-modal {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .close-modal:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 40px;
    }

    .auth-container {
      max-width: 450px;
      margin: 0 auto;
    }

    .auth-form {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
      padding: 40px;
      border-radius: 20px;
      border: 2px solid rgba(27, 94, 32, 0.1);
    }

    .auth-tabs {
      display: flex;
      gap: 12px;
      margin-bottom: 32px;
      background: white;
      padding: 6px;
      border-radius: 12px;
    }

    .auth-tab {
      flex: 1;
      padding: 12px;
      background: transparent;
      border: none;
      font-size: 16px;
      font-weight: 700;
      color: #888;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .auth-tab.active {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .admin-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 32px;
      border-bottom: 2px solid #f0f0f0;
      overflow-x: auto;
      padding-bottom: 4px;
    }

    .admin-tab {
      padding: 14px 24px;
      background: transparent;
      border: none;
      font-size: 15px;
      font-weight: 700;
      color: #888;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
      white-space: nowrap;
      border-radius: 8px 8px 0 0;
    }

    .admin-tab:hover {
      color: #1B5E20;
      background: rgba(27, 94, 32, 0.05);
    }

    .admin-tab.active {
      color: #1B5E20;
      border-bottom-color: #1B5E20;
      background: rgba(27, 94, 32, 0.08);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 24px;
    }

    .form-group label {
      display: block;
      font-weight: 700;
      margin-bottom: 10px;
      color: #333;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 14px 18px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: white;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #1B5E20;
      box-shadow: 0 0 0 4px rgba(27, 94, 32, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }

    /* Admin List */
    .admin-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 32px;
    }

    .admin-item {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.03), rgba(46, 125, 50, 0.03));
      padding: 24px;
      border-radius: 16px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border: 2px solid rgba(27, 94, 32, 0.1);
      transition: all 0.3s ease;
    }

    .admin-item:hover {
      border-color: rgba(27, 94, 32, 0.3);
      box-shadow: 0 4px 20px rgba(27, 94, 32, 0.1);
    }

    .admin-item-content {
      flex: 1;
    }

    .admin-item-title {
      font-weight: 800;
      font-size: 20px;
      color: #1B5E20;
      margin-bottom: 8px;
    }

    .admin-item-meta {
      font-size: 14px;
      color: #888;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .admin-item-desc {
      color: #555;
      line-height: 1.7;
    }

    /* Forum Styles */
    .forum-question {
      background: white;
      border-radius: 20px;
      padding: 28px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 2px solid transparent;
      cursor: pointer;
    }

    .forum-question:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.12);
      border-color: rgba(27, 94, 32, 0.2);
    }

    .forum-question-header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 16px;
    }

    .forum-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #43A047);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      font-weight: 900;
      color: white;
      flex-shrink: 0;
    }

    .forum-user-info {
      flex: 1;
    }

    .forum-username {
      font-weight: 700;
      color: #333;
      font-size: 16px;
    }

    .forum-timestamp {
      font-size: 13px;
      color: #888;
    }

    .forum-question-title {
      font-size: 22px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 12px;
      line-height: 1.4;
    }

    .forum-question-body {
      color: #555;
      line-height: 1.7;
      margin-bottom: 20px;
    }

    .forum-stats {
      display: flex;
      gap: 24px;
      padding-top: 20px;
      border-top: 2px solid #f0f0f0;
    }

    .forum-stat {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: #666;
      font-weight: 600;
    }

    .forum-stat-icon {
      font-size: 18px;
    }

    /* Forum Detail Modal */
    .forum-detail {
      max-height: 70vh;
      overflow-y: auto;
    }

    .forum-detail-question {
      padding: 32px;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
      border-radius: 20px;
      margin-bottom: 32px;
    }

    .forum-detail-title {
      font-size: 28px;
      font-weight: 900;
      color: #1B5E20;
      margin-bottom: 20px;
      line-height: 1.3;
    }

    .forum-detail-body {
      font-size: 16px;
      color: #555;
      line-height: 1.8;
      margin-bottom: 20px;
    }

    .forum-detail-meta {
      display: flex;
      align-items: center;
      gap: 12px;
      padding-top: 20px;
      border-top: 2px solid rgba(27, 94, 32, 0.1);
      font-size: 14px;
      color: #888;
    }

    .answers-section {
      padding: 0 32px 32px;
    }

    .answers-title {
      font-size: 20px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .answer-item {
      background: #f8f9fa;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 16px;
      border: 2px solid #e9ecef;
    }

    .answer-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .answer-avatar {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #43A047);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 900;
      color: white;
      flex-shrink: 0;
    }

    .answer-username {
      font-weight: 700;
      color: #333;
      font-size: 15px;
    }

    .answer-timestamp {
      font-size: 12px;
      color: #888;
    }

    .answer-body {
      color: #555;
      line-height: 1.7;
      font-size: 15px;
    }

    .answer-form {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
      border-radius: 16px;
      padding: 24px;
      margin-top: 24px;
    }

    .no-answers {
      text-align: center;
      padding: 40px;
      color: #888;
      font-style: italic;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: #888;
      font-size: 18px;
    }

    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.3;
    }

    /* Loading */
    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #888;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #1B5E20;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: white;
      color: #333;
      padding: 20px 28px;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      z-index: 3000;
      animation: slideInRight 0.4s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      border-left: 4px solid #1B5E20;
    }

    .toast.error {
      border-left-color: #d32f2f;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Contact Section */
    .contact-section {
      background: linear-gradient(135deg, #f8f9fa, #ffffff);
      padding: 100px 20px;
      position: relative;
    }

    .contact-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .contact-card {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      border: 2px solid rgba(27, 94, 32, 0.1);
    }

    .contact-icon-wrapper {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 32px;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
    }

    .contact-icon {
      width: 40px;
      height: 40px;
      color: white;
    }

    .contact-title {
      font-size: 36px;
      font-weight: 900;
      color: #1B5E20;
      text-align: center;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
    }

    .contact-subtitle {
      text-align: center;
      font-size: 18px;
      color: #666;
      margin-bottom: 40px;
      line-height: 1.6;
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .submit-btn {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 18px 48px;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
      margin-top: 16px;
    }

    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(27, 94, 32, 0.4);
    }

    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Footer */
    .footer {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 60px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="footergrid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23footergrid)"/></svg>');
      opacity: 0.5;
    }

    .footer-content {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 0 auto;
    }

    .footer-hearts {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 24px;
    }

    .heart-icon {
      width: 32px;
      height: 32px;
      color: #ff4444;
      filter: drop-shadow(0 4px 8px rgba(255, 68, 68, 0.4));
    }

    .heart-icon.beat {
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    .heart-icon:nth-child(1) {
      animation-delay: 0s;
    }

    .heart-icon:nth-child(2) {
      animation-delay: 0.2s;
    }

    .heart-icon:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes heartbeat {
      0%, 100% {
        transform: scale(1);
      }
      10% {
        transform: scale(1.2);
      }
      20% {
        transform: scale(1);
      }
      30% {
        transform: scale(1.15);
      }
      40% {
        transform: scale(1);
      }
    }

    .footer-text {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 24px;
      letter-spacing: 0.5px;
    }

    .footer-name {
      font-weight: 900;
      font-size: 28px;
      background: linear-gradient(45deg, #fff, #ffd700, #fff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s ease-in-out infinite;
      display: inline-block;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    }

    @keyframes shimmer {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .footer-sparkles {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 24px;
    }

    .sparkle {
      width: 20px;
      height: 20px;
      color: #ffd700;
      animation: twinkle 2s ease-in-out infinite;
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
    }

    .sparkle:nth-child(1) {
      animation-delay: 0s;
    }

    .sparkle:nth-child(2) {
      animation-delay: 0.6s;
    }

    .sparkle:nth-child(3) {
      animation-delay: 1.2s;
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
      50% {
        opacity: 0.3;
        transform: scale(0.7) rotate(180deg);
      }
    }

    /* Theme Selector Styles */
    .theme-selector-container {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 32px;
    }

    .theme-option {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 20px;
      background: white;
      border: 3px solid #e0e0e0;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .theme-option:hover {
      border-color: #1B5E20;
      transform: translateX(4px);
    }

    .theme-option.active {
      border-color: #1B5E20;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
    }

    .theme-info {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .theme-emoji {
      font-size: 36px;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.1), rgba(46, 125, 50, 0.1));
      border-radius: 12px;
    }

    .theme-details h4 {
      font-size: 20px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 4px;
    }

    .theme-details p {
      font-size: 14px;
      color: #888;
    }

    .theme-check {
      font-size: 28px;
      color: #1B5E20;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .theme-option.active .theme-check {
      opacity: 1;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .navbar-menu {
        gap: 12px;
      }

      .nav-link {
        font-size: 13px;
      }

      .navbar-brand {
        font-size: 16px;
      }

      .birthday-months {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      }
    }

    @media (max-width: 768px) {
      .navbar-container {
        padding: 0 16px;
      }

      .navbar-brand span {
        display: none;
      }

      .menu-toggle {
        display: block;
      }

      .navbar-menu {
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background: white;
        flex-direction: column;
        padding: 20px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        transform: translateY(-100%);
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
        z-index: 999;
      }

      .navbar-menu.active {
        transform: translateY(0);
        opacity: 1;
        pointer-events: all;
      }

      .nav-link {
        padding: 12px 0;
        width: 100%;
        text-align: center;
        font-size: 16px;
      }

      .hero h1 {
        font-size: 36px;
      }

      .hero .subtitle {
        font-size: 20px;
      }

      .section-title {
        font-size: 32px;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .hero-stats {
        gap: 30px;
      }

      .stat-number {
        font-size: 36px;
      }

      .carousel-track,
      .carousel-slide {
        height: 350px;
      }

      .carousel-nav {
        width: 44px;
        height: 44px;
      }

      .modal-content {
        margin: 0;
        border-radius: 0;
        max-height: 100%;
      }

      .contact-card {
        padding: 32px 24px;
      }

      .contact-title {
        font-size: 28px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .room-logo {
        max-width: 120px;
        max-height: 120px;
      }

      .motto-container {
        flex-direction: column;
        gap: 16px;
      }

      .motto-decoration {
        width: 60px;
        height: 60px;
      }

      .motto-decoration.right {
        transform: scaleX(-1) scaleY(-1);
      }

      .motto-text-wrapper {
        padding: 24px 28px;
      }

      .motto-text {
        font-size: 20px;
      }

      .motto-text-wrapper::before {
        font-size: 60px;
        top: -10px;
        left: 10px;
      }

      .motto-text-wrapper::after {
        font-size: 60px;
        bottom: -30px;
        right: 10px;
      }

      .footer-text {
        font-size: 20px;
      }

      .footer-name {
        font-size: 24px;
      }

      .birthday-months {
        grid-template-columns: 1fr;
      }

      .weather-icon-display {
        font-size: 80px;
      }

      .weather-temp {
        font-size: 48px;
      }

      .weather-description {
        font-size: 20px;
      }

      .modal-header {
        padding: 24px 20px;
        border-radius: 0;
      }

      .modal-header h2 {
        font-size: 24px;
      }

      .modal-body {
        padding: 24px 20px;
      }

      .auth-form {
        padding: 24px 20px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        font-size: 13px;
        margin-bottom: 8px;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        padding: 12px 14px;
        font-size: 16px;
      }

      .btn {
        padding: 12px 20px;
        font-size: 16px;
      }

      .auth-tab {
        padding: 10px;
        font-size: 15px;
      }

      .admin-tabs {
        gap: 6px;
        padding-bottom: 2px;
      }

      .admin-tab {
        padding: 10px 16px;
        font-size: 14px;
      }

      .admin-item {
        padding: 20px;
        flex-direction: column;
        gap: 12px;
      }

      .admin-item .btn {
        width: 100%;
      }

      .form-actions {
        flex-direction: column;
        gap: 10px;
      }

      .form-actions .btn {
        width: 100%;
      }

      .weather-details {
        grid-template-columns: 1fr;
        gap: 16px;
      }

      .talent-image-container {
        height: 220px;
      }
    }

    /* Scroll Animations */
    .fade-in-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .fade-in-section.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Sticky Navbar -->
  <nav class="navbar" id="navbar">
   <div class="navbar-container"><a href="#" class="navbar-brand"> <img id="navRoomLogo" src="" alt="Logo" class="nav-logo" style="display: none;"> <span>Grade 7â€“Matapat</span> </a> <button class="menu-toggle" id="menuToggle">â˜°</button>
    <div class="navbar-menu" id="navbarMenu"><a href="#gallery" class="nav-link">Gallery</a> <a href="#weather" class="nav-link">Weather</a> <a href="#talents" class="nav-link">Talents</a> <a href="#forum" class="nav-link">Forum</a> <a href="#birthdays" class="nav-link">Calendar</a> <a href="#announcements" class="nav-link">Announcements</a> <a href="#assignments" class="nav-link">Assignments</a> <a href="#events" class="nav-link">Events</a> <a href="#research" class="nav-link">Research</a> <a href="#students" class="nav-link">Students</a> <a href="#contact" class="nav-link">Contact</a>
    </div>
    <div class="nav-buttons" id="navButtons"><button class="btn btn-outline" id="loginNavBtn">Login</button> <button class="btn btn-primary" id="signupNavBtn">Sign Up</button>
    </div>
   </div>
  </nav><!-- Hero Section with Motto -->
  <header class="hero">
   <div class="hero-content">
    <h1 id="mainTitle">Grade 7â€“Matapat</h1>
    <p class="subtitle" id="subtitle">Cavite State University</p><!-- Room Motto -->
    <div class="motto-container">
     <svg class="motto-decoration left" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,50 Q30,30 50,40 T80,50" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" /> <circle cx="20" cy="50" r="3" fill="currentColor" /> <circle cx="50" cy="40" r="2" fill="currentColor" /> <circle cx="80" cy="50" r="3" fill="currentColor" />
     </svg>
     <div class="motto-text-wrapper">
      <p class="motto-text" id="roomMotto">Excellence in Education, Character, and Service</p>
     </div>
     <svg class="motto-decoration right" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,50 Q30,30 50,40 T80,50" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" /> <circle cx="20" cy="50" r="3" fill="currentColor" /> <circle cx="50" cy="40" r="2" fill="currentColor" /> <circle cx="80" cy="50" r="3" fill="currentColor" />
     </svg>
    </div>
    <div class="hero-stats">
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor" />
      </svg><span class="stat-number" id="statsStudents">0</span> <span class="stat-label">Students</span>
     </div>
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" fill="currentColor" />
      </svg><span class="stat-number" id="statsEvents">0</span> <span class="stat-label">Events</span>
     </div>
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z" fill="currentColor" />
      </svg><span class="stat-number" id="statsResearch">0</span> <span class="stat-label">Research Posts</span>
     </div>
    </div>
   </div>
  </header><!-- Gallery Section -->
  <section class="carousel-section" id="gallery">
   <div class="section-header fade-in-section"><span class="section-badge">Gallery</span>
    <h2 class="section-title">Our Moments</h2>
    <p class="section-description">Capturing memories and milestones of Grade 7â€“Matapat</p>
   </div>
   <div class="carousel-container" id="carouselContainer">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading gallery...</p>
    </div>
   </div>
  </section><!-- Weather Widget -->
  <section class="section" id="weather" style="background: linear-gradient(135deg, #E3F2FD, #BBDEFB); padding: 60px 20px;">
   <div class="section-header fade-in-section"><span class="section-badge">ðŸŒ¤ï¸ Weather</span>
    <h2 class="section-title">Today's Weather</h2>
    <p class="section-description">Plan your day with current weather conditions</p>
   </div>
   <div class="weather-widget-container">
    <div id="weatherWidget" class="weather-widget">
     <div class="loading">
      <div class="spinner"></div>
      <p>Loading weather...</p>
     </div>
    </div>
   </div>
  </section><!-- Talent Showcase -->
  <section class="section" id="talents">
   <div class="section-header fade-in-section"><span class="section-badge">ðŸŽ¨ Talent Showcase</span>
    <h2 class="section-title">Performance Tasks</h2>
    <p class="section-description">Celebrating our students' creativity and hard work across all subjects</p>
   </div>
   <div id="talentsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading talents...</p>
    </div>
   </div>
  </section><!-- Forum Section -->
  <section class="section" id="forum">
   <div class="section-header fade-in-section"><span class="section-badge">ðŸ’¬ Forum</span>
    <h2 class="section-title">Class Discussion</h2>
    <p class="section-description">Ask questions, share ideas, and help each other learn</p><button class="btn btn-success" id="askQuestionBtn" style="margin-top: 24px;">Ask a Question</button>
   </div>
   <div id="forumContainer" class="cards-grid" style="margin-top: 40px;">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading forum...</p>
    </div>
   </div>
  </section><!-- Birthday Calendar -->
  <section class="section" id="birthdays" style="background: linear-gradient(135deg, #f8f9fa, #ffffff);">
   <div class="section-header fade-in-section"><span class="section-badge">ðŸ“… Calendar View</span>
    <h2 class="section-title">Interactive Calendar</h2>
    <p class="section-description">Birthdays, events, and assignment deadlines all in one place</p>
   </div>
   <div id="birthdayCalendar" class="birthday-calendar-container">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading calendar...</p>
    </div>
   </div>
  </section><!-- Announcements -->
  <section class="section" id="announcements">
   <div class="section-header fade-in-section"><span class="section-badge">Updates</span>
    <h2 class="section-title">Announcements</h2>
    <p class="section-description">Stay informed with the latest news and updates</p>
   </div>
   <div id="announcementsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading announcements...</p>
    </div>
   </div>
  </section><!-- Assignments -->
  <section class="section" id="assignments">
   <div class="section-header fade-in-section"><span class="section-badge">Academics</span>
    <h2 class="section-title">Assignments</h2>
    <p class="section-description">Keep track of upcoming assignments and deadlines</p>
   </div>
   <div id="assignmentsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading assignments...</p>
    </div>
   </div>
  </section><!-- Events -->
  <section class="section" id="events">
   <div class="section-header fade-in-section"><span class="section-badge">Calendar</span>
    <h2 class="section-title">Upcoming Events</h2>
    <p class="section-description">Don't miss out on exciting activities and gatherings</p>
   </div>
   <div id="eventsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading events...</p>
    </div>
   </div>
  </section><!-- Research -->
  <section class="section" id="research">
   <div class="section-header fade-in-section"><span class="section-badge">Academic Excellence</span>
    <h2 class="section-title">Research Posts</h2>
    <p class="section-description">Explore student research and academic contributions</p>
   </div>
   <div id="researchContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading research posts...</p>
    </div>
   </div>
  </section><!-- Students -->
  <section class="section" id="students">
   <div class="section-header fade-in-section"><span class="section-badge">Community</span>
    <h2 class="section-title">Student Directory</h2>
    <p class="section-description">Meet the amazing students of Grade 7â€“Matapat</p><!-- Search Bar -->
    <div class="search-container">
     <svg class="search-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor" />
     </svg><input type="text" id="studentSearch" class="search-input" placeholder="Search students by name or role..."> <button class="search-clear" id="clearSearch" style="display: none;">Ã—</button>
    </div>
   </div>
   <div id="studentsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading students...</p>
    </div>
   </div>
  </section><!-- Contact Section -->
  <section class="contact-section" id="contact">
   <div class="contact-container">
    <div class="section-header fade-in-section"><span class="section-badge">Get In Touch</span>
     <h2 class="section-title">Reach Out to Us</h2>
     <p class="section-description">Have questions or concerns? We'd love to hear from you!</p>
    </div>
    <div class="contact-card fade-in-section">
     <div class="contact-icon-wrapper">
      <svg class="contact-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor" />
      </svg>
     </div>
     <form class="contact-form" id="contactForm">
      <div class="form-row">
       <div class="form-group"><label for="contactName">Full Name</label> <input type="text" id="contactName" placeholder="Your name" required>
       </div>
       <div class="form-group"><label for="contactEmail">Email Address</label> <input type="email" id="contactEmail" placeholder="your@email.com" required>
       </div>
      </div>
      <div class="form-group"><label for="contactConcern">Your Concern</label> <textarea id="contactConcern" placeholder="Tell us what's on your mind..." required style="min-height: 150px;"></textarea>
      </div><button type="submit" class="submit-btn" id="submitContactBtn"> Send Message </button>
     </form>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="footer">
   <div class="footer-content">
    <div class="footer-hearts">
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
    </div>
    <p class="footer-text">Made by <span class="footer-name">Athan</span></p>
    <div class="footer-sparkles">
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
    </div>
   </div>
  </footer><!-- Auth/Admin Modal -->
  <div class="modal" id="mainModal">
   <div class="modal-content">
    <div class="modal-header">
     <h2 id="modalTitle">Welcome</h2><button class="close-modal" id="closeModal">Ã—</button>
    </div>
    <div class="modal-body"><!-- Auth Section -->
     <div id="authSection" class="auth-container">
      <div class="auth-form">
       <div class="auth-tabs"><button class="auth-tab active" data-auth-tab="login">Login</button> <button class="auth-tab" data-auth-tab="signup">Sign Up</button>
       </div><!-- Login Form -->
       <div class="auth-content active" id="auth-login">
        <div class="form-group"><label for="loginEmail">Email Address</label> <input type="email" id="loginEmail" placeholder="your@email.com">
        </div>
        <div class="form-group"><label for="loginPassword">Password</label> <input type="password" id="loginPassword" placeholder="Enter your password">
        </div><button class="btn btn-success" style="width: 100%; margin-bottom: 16px;" id="loginBtn">Login</button>
        <div style="text-align: center; margin: 20px 0; color: #888; font-weight: 600;">
         OR
        </div><button class="btn btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 12px; background: white; color: #333; border: 2px solid #e0e0e0;" id="googleLoginBtn">
         <svg width="20" height="20" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4" /> <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853" /> <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05" /> <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335" />
         </svg> Continue with Google </button>
       </div><!-- Signup Form -->
       <div class="auth-content" id="auth-signup" style="display: none;">
        <div class="form-group"><label for="signupEmail">Email Address</label> <input type="email" id="signupEmail" placeholder="your@email.com">
        </div>
        <div class="form-group"><label for="signupPassword">Password</label> <input type="password" id="signupPassword" placeholder="Create a password">
        </div>
        <div class="form-group"><label for="signupConfirm">Confirm Password</label> <input type="password" id="signupConfirm" placeholder="Confirm password">
        </div><button class="btn btn-success" style="width: 100%;" id="signupBtn">Sign Up</button>
       </div>
      </div>
     </div><!-- Admin Panel -->
     <div id="adminContent" style="display: none;">
      <div class="admin-tabs"><button class="admin-tab active" data-tab="theme">ðŸŽ¨ Theme</button> <button class="admin-tab" data-tab="images">ðŸ–¼ï¸ Gallery</button> <button class="admin-tab" data-tab="talents">ðŸŽ¨ Talents</button> <button class="admin-tab" data-tab="forum">ðŸ’¬ Forum</button> <button class="admin-tab" data-tab="announcements">ðŸ“¢ Announcements</button> <button class="admin-tab" data-tab="assignments">ðŸ“š Assignments</button> <button class="admin-tab" data-tab="events">ðŸ“… Events</button> <button class="admin-tab" data-tab="research">ðŸ”¬ Research</button> <button class="admin-tab" data-tab="students">ðŸ‘¥ Students</button> <button class="admin-tab" data-tab="contacts">âœ‰ï¸ Contacts</button>
      </div><!-- Theme Selector Tab -->
      <div class="tab-content active" id="tab-theme">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Seasonal Theme Selector</h3>
       <p style="color: #666; margin-bottom: 32px;">Choose a seasonal theme with animated effects to match the time of year</p>
       <div class="theme-selector-container" id="themeSelector"></div>
      </div><!-- Images Tab -->
      <div class="tab-content" id="tab-images">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Gallery Images</h3>
       <div class="form-group"><label for="imagePathInput">Image Path in Repository</label> <input type="text" id="imagePathInput" placeholder="e.g., images/photo1.jpg">
       </div><button class="btn btn-success" id="addImageBtn">Add Image</button>
       <div class="admin-list" id="imagesList"></div>
      </div><!-- Talents Tab -->
      <div class="tab-content" id="tab-talents">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Talent Showcase</h3>
       <div class="form-group"><label for="talentStudentName">Student Name</label> <input type="text" id="talentStudentName" placeholder="Enter student name">
       </div>
       <div class="form-group"><label for="talentSubject">Subject</label> <select id="talentSubject"> <option value="">Select a subject</option> <option value="Mathematics">Mathematics</option> <option value="Science">Science</option> <option value="English">English</option> <option value="Filipino">Filipino</option> <option value="History">History</option> <option value="Arts">Arts</option> <option value="Music">Music</option> <option value="Physical Education">Physical Education</option> <option value="Technology">Technology</option> <option value="Other">Other</option> </select>
       </div>
       <div class="form-group"><label for="talentImagePath">Image Path in Repository</label> <input type="text" id="talentImagePath" placeholder="e.g., images/artwork.jpg">
       </div>
       <div class="form-group"><label for="talentDescription">Description (Optional)</label> <textarea id="talentDescription" placeholder="Describe the work..."></textarea>
       </div><button class="btn btn-success" id="addTalentBtn">Add Talent</button>
       <div class="admin-list" id="talentsList"></div>
      </div><!-- Forum Tab -->
      <div class="tab-content" id="tab-forum">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Forum</h3>
       <p style="color: #666; margin-bottom: 24px;">View and moderate forum questions and answers</p>
       <div class="admin-list" id="forumList"></div>
      </div><!-- Announcements Tab -->
      <div class="tab-content" id="tab-announcements">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Announcements</h3>
       <div class="form-group"><label for="announcementTitle">Title</label> <input type="text" id="announcementTitle" placeholder="Announcement title">
       </div>
       <div class="form-group"><label for="announcementDesc">Description</label> <textarea id="announcementDesc" placeholder="Announcement details"></textarea>
       </div><button class="btn btn-success" id="addAnnouncementBtn">Add Announcement</button>
       <div class="admin-list" id="announcementsList"></div>
      </div><!-- Assignments Tab -->
      <div class="tab-content" id="tab-assignments">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Assignments</h3>
       <div class="form-group"><label for="assignmentTitle">Title</label> <input type="text" id="assignmentTitle" placeholder="Assignment title">
       </div>
       <div class="form-group"><label for="assignmentDesc">Description</label> <textarea id="assignmentDesc" placeholder="Assignment details"></textarea>
       </div>
       <div class="form-group"><label for="assignmentDue">Due Date</label> <input type="date" id="assignmentDue">
       </div><button class="btn btn-success" id="addAssignmentBtn">Add Assignment</button>
       <div class="admin-list" id="assignmentsList"></div>
      </div><!-- Events Tab -->
      <div class="tab-content" id="tab-events">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Events</h3>
       <div class="form-group"><label for="eventTitle">Title</label> <input type="text" id="eventTitle" placeholder="Event title">
       </div>
       <div class="form-group"><label for="eventDate">Event Date</label> <input type="date" id="eventDate">
       </div>
       <div class="form-group"><label for="eventLocation">Location</label> <input type="text" id="eventLocation" placeholder="Event location">
       </div>
       <div class="form-group"><label for="eventDesc">Description</label> <textarea id="eventDesc" placeholder="Event details"></textarea>
       </div><button class="btn btn-success" id="addEventBtn">Add Event</button>
       <div class="admin-list" id="eventsList"></div>
      </div><!-- Research Tab -->
      <div class="tab-content" id="tab-research">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Research Posts</h3>
       <div class="form-group"><label for="researchTitle">Title</label> <input type="text" id="researchTitle" placeholder="Research title">
       </div>
       <div class="form-group"><label for="researchText">Abstract/Summary</label> <textarea id="researchText" placeholder="Research summary"></textarea>
       </div>
       <div class="form-group"><label for="researchLink">External Link</label> <input type="url" id="researchLink" placeholder="https://example.com">
       </div><button class="btn btn-success" id="addResearchBtn">Add Research Post</button>
       <div class="admin-list" id="researchList"></div>
      </div><!-- Students Tab -->
      <div class="tab-content" id="tab-students">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Students</h3>
       <div class="form-group"><label for="studentName">Full Name</label> <input type="text" id="studentName" placeholder="Student name">
       </div>
       <div class="form-group"><label for="studentRole">Role/Position</label> <input type="text" id="studentRole" placeholder="e.g., Class President">
       </div>
       <div class="form-group"><label for="studentBirthday">Birthday (Optional)</label> <input type="date" id="studentBirthday">
       </div>
       <div class="form-group"><label for="studentMotto">Motto in Life (Optional)</label> <textarea id="studentMotto" placeholder="Student's personal motto (optional)"></textarea>
       </div>
       <div class="form-group"><label for="studentBio">Bio (Optional)</label> <textarea id="studentBio" placeholder="Tell us about yourself..."></textarea>
       </div>
       <div class="form-group"><label for="studentInterests">Interests (Optional, comma-separated)</label> <input type="text" id="studentInterests" placeholder="e.g., Reading, Sports, Music">
       </div>
       <div class="form-group"><label for="studentFavSubject">Favorite Subject (Optional)</label> <select id="studentFavSubject"> <option value="">Select favorite subject</option> <option value="Mathematics">Mathematics</option> <option value="Science">Science</option> <option value="English">English</option> <option value="Filipino">Filipino</option> <option value="History">History</option> <option value="Arts">Arts</option> <option value="Music">Music</option> <option value="Physical Education">Physical Education</option> <option value="Technology">Technology</option> </select>
       </div><button class="btn btn-success" id="addStudentBtn">Add Student</button>
       <div class="admin-list" id="studentsList"></div>
      </div><!-- Contacts Tab -->
      <div class="tab-content" id="tab-contacts">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Contact Messages</h3>
       <p style="color: #666; margin-bottom: 24px;">View messages from students and visitors</p>
       <div class="admin-list" id="contactsList"></div>
      </div><button class="btn btn-danger" style="width: 100%; margin-top: 40px;" id="logoutBtn">Logout</button>
     </div><!-- Edit Profile Modal Content -->
     <div id="editProfileContent" style="display: none;">
      <div style="max-width: 700px; margin: 0 auto;">
       <div class="form-group"><label for="profileBio">Your Bio</label> <textarea id="profileBio" placeholder="Tell everyone about yourself..." style="min-height: 150px;"></textarea>
       </div>
       <div class="form-group"><label for="profileInterests">Your Interests (comma-separated)</label> <input type="text" id="profileInterests" placeholder="e.g., Reading, Gaming, Sports, Music">
       </div>
       <div class="form-group"><label for="profileFavSubject">Favorite Subject</label> <select id="profileFavSubject"> <option value="">Select your favorite subject</option> <option value="Mathematics">Mathematics</option> <option value="Science">Science</option> <option value="English">English</option> <option value="Filipino">Filipino</option> <option value="History">History</option> <option value="Arts">Arts</option> <option value="Music">Music</option> <option value="Physical Education">Physical Education</option> <option value="Technology">Technology</option> </select>
       </div>
       <div class="form-actions"><button class="btn btn-secondary" onclick="closeModal()">Cancel</button> <button class="btn btn-success" id="saveProfileBtn">Save Profile</button>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script>
    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCc4tfKJDQaIajcAkcZH6_8PU4FC9_tyUY",
      authDomain: "machine-learning-a2301.firebaseapp.com",
      databaseURL: "https://machine-learning-a2301-default-rtdb.firebaseio.com",
      projectId: "machine-learning-a2301",
      storageBucket: "machine-learning-a2301.firebasestorage.app",
      messagingSenderId: ".",
      appId: "1:.:web:64d8f4e4a59024314da7bd",
      measurementId: "G-3E6L78B5XK"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    // State
    let currentUser = null;
    let isAdmin = false;
    let carouselIndex = 0;
    let carouselImages = [];
    let carouselInterval = null;
    let currentQuestionId = null;
    let allData = {
      students: [],
      events: [],
      research: [],
      announcements: [],
      assignments: [],
      talents: [],
      forum: []
    };
    let currentTheme = 'default';
    let animationElements = [];

    // Config
    const config = {
      github_username: "Landing749",
      github_repo: "7-Matapat"
    };

    // Theme configurations
    const themes = {
      default: {
        name: 'Default',
        emoji: 'ðŸŒŸ',
        description: 'Classic green theme',
        animation: null
      },
      spring: {
        name: 'Spring',
        emoji: 'ðŸŒ¸',
        description: 'Fresh flowers blooming upward',
        animation: 'flowers'
      },
      summer: {
        name: 'Summer',
        emoji: 'â˜€ï¸',
        description: 'Bright sunshine rays',
        animation: 'sunrays'
      },
      autumn: {
        name: 'Autumn',
        emoji: 'ðŸ‚',
        description: 'Falling leaves',
        animation: 'leaves'
      },
      winter: {
        name: 'Winter',
        emoji: 'â„ï¸',
        description: 'Gentle snowflakes',
        animation: 'snow'
      }
    };

    // Animation Functions
    function clearAnimations() {
      animationElements.forEach(el => el.remove());
      animationElements = [];
    }

    function createFallingLeaves() {
      const leaves = ['ðŸ‚', 'ðŸ'];
      for (let i = 0; i < 15; i++) {
        setTimeout(() => {
          const leaf = document.createElement('div');
          leaf.className = 'falling-leaf';
          leaf.textContent = leaves[Math.floor(Math.random() * leaves.length)];
          leaf.style.left = Math.random() * 100 + '%';
          leaf.style.animationDuration = (Math.random() * 3 + 5) + 's';
          leaf.style.animationDelay = Math.random() * 2 + 's';
          document.body.appendChild(leaf);
          animationElements.push(leaf);
          
          setTimeout(() => leaf.remove(), 10000);
        }, i * 300);
      }
    }

    function createSnowflakes() {
      for (let i = 0; i < 20; i++) {
        setTimeout(() => {
          const snowflake = document.createElement('div');
          snowflake.className = 'snowflake';
          snowflake.textContent = 'â„';
          snowflake.style.left = Math.random() * 100 + '%';
          snowflake.style.fontSize = (Math.random() * 10 + 15) + 'px';
          snowflake.style.animationDuration = (Math.random() * 3 + 4) + 's';
          snowflake.style.animationDelay = Math.random() * 2 + 's';
          document.body.appendChild(snowflake);
          animationElements.push(snowflake);
          
          setTimeout(() => snowflake.remove(), 8000);
        }, i * 200);
      }
    }

    function createFlowers() {
      const flowers = ['ðŸŒ¸', 'ðŸŒº', 'ðŸŒ»', 'ðŸŒ·'];
      for (let i = 0; i < 12; i++) {
        setTimeout(() => {
          const flower = document.createElement('div');
          flower.className = 'flower';
          flower.textContent = flowers[Math.floor(Math.random() * flowers.length)];
          flower.style.left = Math.random() * 100 + '%';
          flower.style.animationDuration = (Math.random() * 4 + 6) + 's';
          flower.style.animationDelay = Math.random() * 2 + 's';
          document.body.appendChild(flower);
          animationElements.push(flower);
          
          setTimeout(() => flower.remove(), 12000);
        }, i * 500);
      }
    }

    function createSunRays() {
      for (let i = 0; i < 10; i++) {
        setTimeout(() => {
          const ray = document.createElement('div');
          ray.className = 'sun-ray';
          ray.textContent = 'âœ¨';
          ray.style.left = Math.random() * 100 + '%';
          ray.style.animationDuration = (Math.random() * 2 + 3) + 's';
          ray.style.animationDelay = Math.random() * 1 + 's';
          document.body.appendChild(ray);
          animationElements.push(ray);
          
          setTimeout(() => ray.remove(), 6000);
        }, i * 400);
      }
    }

    function applyTheme(theme) {
      currentTheme = theme;
      
      // Remove all theme classes
      document.body.classList.remove('theme-spring', 'theme-summer', 'theme-autumn', 'theme-winter');
      
      // Clear existing animations
      clearAnimations();
      
      // Apply new theme
      if (theme !== 'default') {
        document.body.classList.add(`theme-${theme}`);
      }
      
      // Start animations
      const themeConfig = themes[theme];
      if (themeConfig && themeConfig.animation) {
        startThemeAnimations(themeConfig.animation);
      }
    }

    function startThemeAnimations(animationType) {
      if (animationType === 'leaves') {
        createFallingLeaves();
        setInterval(createFallingLeaves, 8000);
      } else if (animationType === 'snow') {
        createSnowflakes();
        setInterval(createSnowflakes, 6000);
      } else if (animationType === 'flowers') {
        createFlowers();
        setInterval(createFlowers, 10000);
      } else if (animationType === 'sunrays') {
        createSunRays();
        setInterval(createSunRays, 5000);
      }
    }

    // Load and render theme selector
    function renderThemeSelector() {
      const container = document.getElementById('themeSelector');
      if (!container) return;
      
      container.innerHTML = Object.keys(themes).map(key => {
        const theme = themes[key];
        return `
          <div class="theme-option ${currentTheme === key ? 'active' : ''}" onclick="selectTheme('${key}')">
            <div class="theme-info">
              <div class="theme-emoji">${theme.emoji}</div>
              <div class="theme-details">
                <h4>${theme.name}</h4>
                <p>${theme.description}</p>
              </div>
            </div>
            <div class="theme-check">âœ“</div>
          </div>
        `;
      }).join('');
    }

    window.selectTheme = async (theme) => {
      if (!isAdmin) return;
      
      currentTheme = theme;
      applyTheme(theme);
      renderThemeSelector();
      
      // Save to Firebase
      await db.ref('settings/theme').set(theme);
      showToast(`${themes[theme].name} theme applied!`);
    };

    // Load saved theme from Firebase
    db.ref('settings/theme').on('value', (snapshot) => {
      const savedTheme = snapshot.val() || 'default';
      currentTheme = savedTheme;
      applyTheme(savedTheme);
      if (isAdmin) {
        renderThemeSelector();
      }
    });

    // Auth State Observer
    auth.onAuthStateChanged(async (user) => {
      currentUser = user;
      if (user) {
        const adminSnapshot = await db.ref(`admins/${user.uid}`).once('value');
        isAdmin = adminSnapshot.val() === true;
        updateNavbar();
        if (isAdmin) {
          showAdminPanel();
        }
      } else {
        isAdmin = false;
        updateNavbar();
      }
    });

    // Update navbar based on auth state
    function updateNavbar() {
      const navButtons = document.getElementById('navButtons');
      if (currentUser) {
        navButtons.innerHTML = isAdmin 
          ? `<button class="btn btn-primary" onclick="openAdminPanel()">Admin Panel</button>
             <div class="user-avatar" onclick="openEditProfile()">${currentUser.email[0].toUpperCase()}</div>`
          : `<button class="btn btn-primary" onclick="openEditProfile()">Edit Profile</button>
             <div class="user-avatar" onclick="openEditProfile()">${currentUser.email[0].toUpperCase()}</div>`;
      } else {
        navButtons.innerHTML = `
          <button class="btn btn-outline" id="loginNavBtn">Login</button>
          <button class="btn btn-primary" id="signupNavBtn">Sign Up</button>
        `;
        document.getElementById('loginNavBtn').addEventListener('click', () => openAuthModal('login'));
        document.getElementById('signupNavBtn').addEventListener('click', () => openAuthModal('signup'));
      }
    }

    // Modal Functions
    function openAuthModal(tab = 'login') {
      document.getElementById('modalTitle').textContent = 'Welcome';
      document.getElementById('authSection').style.display = 'block';
      document.getElementById('adminContent').style.display = 'none';
      document.getElementById('editProfileContent').style.display = 'none';
      document.getElementById('mainModal').classList.add('active');
      
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.auth-content').forEach(c => c.style.display = 'none');
      document.querySelector(`[data-auth-tab="${tab}"]`).classList.add('active');
      document.getElementById(`auth-${tab}`).style.display = 'block';
    }

    function openAdminPanel() {
      document.getElementById('modalTitle').textContent = 'Admin Panel';
      document.getElementById('authSection').style.display = 'none';
      document.getElementById('adminContent').style.display = 'block';
      document.getElementById('editProfileContent').style.display = 'none';
      document.getElementById('mainModal').classList.add('active');
      renderThemeSelector();
      loadAdminData();
    }

    function openEditProfile() {
      if (!currentUser) {
        openAuthModal('login');
        return;
      }
      
      document.getElementById('modalTitle').textContent = 'Edit Your Profile';
      document.getElementById('authSection').style.display = 'none';
      document.getElementById('adminContent').style.display = 'none';
      document.getElementById('editProfileContent').style.display = 'block';
      document.getElementById('mainModal').classList.add('active');
      
      // Load current student data
      db.ref('students').orderByChild('email').equalTo(currentUser.email).once('value', (snapshot) => {
        snapshot.forEach((child) => {
          const student = child.val();
          document.getElementById('profileBio').value = student.bio || '';
          document.getElementById('profileInterests').value = student.interests || '';
          document.getElementById('profileFavSubject').value = student.favoriteSubject || '';
        });
      });
    }

    window.closeModal = function() {
      document.getElementById('mainModal').classList.remove('active');
    };

    document.getElementById('closeModal').addEventListener('click', closeModal);
    document.getElementById('mainModal').addEventListener('click', (e) => {
      if (e.target === document.getElementById('mainModal')) closeModal();
    });

    // Auth Tab Switching
    document.querySelectorAll('.auth-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.dataset.authTab;
        document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.auth-content').forEach(c => c.style.display = 'none');
        tab.classList.add('active');
        document.getElementById(`auth-${tabName}`).style.display = 'block';
      });
    });

    // Admin Tab Switching
    document.querySelectorAll('.admin-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const tabName = tab.dataset.tab;
        document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(`tab-${tabName}`).classList.add('active');
      });
    });

    // Login
    document.getElementById('loginBtn').addEventListener('click', async () => {
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      if (!email || !password) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await auth.signInWithEmailAndPassword(email, password);
        closeModal();
        showToast('Logged in successfully!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Google Login
    document.getElementById('googleLoginBtn').addEventListener('click', async () => {
      try {
        const provider = new firebase.auth.GoogleAuthProvider();
        await auth.signInWithPopup(provider);
        closeModal();
        showToast('Logged in with Google!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Signup
    document.getElementById('signupBtn').addEventListener('click', async () => {
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      const confirm = document.getElementById('signupConfirm').value;
      
      if (!email || !password || !confirm) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      if (password !== confirm) {
        showToast('Passwords do not match', true);
        return;
      }
      
      try {
        await auth.createUserWithEmailAndPassword(email, password);
        closeModal();
        showToast('Account created successfully!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Logout
    document.getElementById('logoutBtn').addEventListener('click', async () => {
      await auth.signOut();
      closeModal();
      showToast('Logged out successfully!');
    });

    // Save Profile
    document.getElementById('saveProfileBtn').addEventListener('click', async () => {
      if (!currentUser) return;
      
      const bio = document.getElementById('profileBio').value;
      const interests = document.getElementById('profileInterests').value;
      const favSubject = document.getElementById('profileFavSubject').value;
      
      try {
        const snapshot = await db.ref('students').orderByChild('email').equalTo(currentUser.email).once('value');
        
        if (snapshot.exists()) {
          snapshot.forEach((child) => {
            db.ref(`students/${child.key}`).update({
              bio: bio,
              interests: interests,
              favoriteSubject: favSubject
            });
          });
          showToast('Profile updated successfully!');
          closeModal();
          loadStudents();
        } else {
          showToast('Student record not found. Please contact an admin.', true);
        }
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Toast
    function showToast(message, isError = false) {
      const toast = document.createElement('div');
      toast.className = `toast ${isError ? 'error' : ''}`;
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.remove();
      }, 3000);
    }

    // Menu Toggle
    document.getElementById('menuToggle').addEventListener('click', () => {
      document.getElementById('navbarMenu').classList.toggle('active');
    });

    // Navbar Scroll Effect
    window.addEventListener('scroll', () => {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // Carousel Functions
    function buildGitHubImageUrl(path) {
      return `https://raw.githubusercontent.com/${config.github_username}/${config.github_repo}/main/${path}`;
    }

    function renderCarousel() {
      const container = document.getElementById('carouselContainer');
      
      if (carouselImages.length === 0) {
        container.innerHTML = '<div class="carousel-empty">No images in the gallery yet. Add some from the admin panel!</div>';
        return;
      }
      
      container.innerHTML = `
        <div class="carousel-track" id="carouselTrack">
          ${carouselImages.map((img, i) => {
            const imageUrl = buildGitHubImageUrl(img.path);
            return `
              <div class="carousel-slide">
                <img src="${imageUrl}" alt="Gallery Image ${i + 1}" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
              </div>
            `;
          }).join('')}
        </div>
        ${carouselImages.length > 1 ? `
          <button class="carousel-nav prev" onclick="prevSlide()">â€¹</button>
          <button class="carousel-nav next" onclick="nextSlide()">â€º</button>
          <div class="carousel-indicators">
            ${carouselImages.map((_, i) => `
              <button class="indicator ${i === 0 ? 'active' : ''}" onclick="goToSlide(${i})"></button>
            `).join('')}
          </div>
        ` : ''}
      `;
      
      if (carouselImages.length > 1) {
        startCarousel();
      }
    }

    function startCarousel() {
      if (carouselInterval) clearInterval(carouselInterval);
      carouselInterval = setInterval(() => {
        nextSlide();
      }, 5000);
    }

    window.goToSlide = function(index) {
      carouselIndex = index;
      updateCarousel();
    };

    window.nextSlide = function() {
      const track = document.getElementById('carouselTrack');
      if (!track) return;
      
      carouselIndex++;
      
      // Enable transition
      track.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
      track.style.transform = `translateX(-${carouselIndex * 100}%)`;
      
      // If we've reached the end, loop back to start after transition
      if (carouselIndex >= carouselImages.length) {
        setTimeout(() => {
          track.style.transition = 'none';
          carouselIndex = 0;
          track.style.transform = `translateX(0)`;
        }, 600);
      }
      
      updateIndicators();
    };

    window.prevSlide = function() {
      const track = document.getElementById('carouselTrack');
      if (!track) return;
      
      carouselIndex--;
      
      // If going before first, jump to end without transition, then animate back
      if (carouselIndex < 0) {
        track.style.transition = 'none';
        carouselIndex = carouselImages.length - 1;
        track.style.transform = `translateX(-${carouselIndex * 100}%)`;
        
        // Force reflow
        track.offsetHeight;
        
        // Re-enable transition for smooth movement
        setTimeout(() => {
          track.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        }, 10);
      } else {
        track.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        track.style.transform = `translateX(-${carouselIndex * 100}%)`;
      }
      
      updateIndicators();
    };

    function updateIndicators() {
      const actualIndex = carouselIndex >= carouselImages.length ? 0 : carouselIndex;
      document.querySelectorAll('.indicator').forEach((ind, i) => {
        ind.classList.toggle('active', i === actualIndex);
      });
    }

    function updateCarousel() {
      const track = document.getElementById('carouselTrack');
      if (track) {
        track.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        track.style.transform = `translateX(-${carouselIndex * 100}%)`;
        updateIndicators();
      }
    }

    // Load Data Functions
    function loadGallery() {
      db.ref('gallery').on('value', (snapshot) => {
        carouselImages = [];
        snapshot.forEach((child) => {
          const data = child.val();
          if (data.path) {
            carouselImages.push({ 
              id: child.key, 
              path: data.path 
            });
          }
        });
        renderCarousel();
      });
    }

    function loadTalents() {
      db.ref('talents').on('value', (snapshot) => {
        const container = document.getElementById('talentsContainer');
        const talents = [];
        
        snapshot.forEach((child) => {
          talents.push({ id: child.key, ...child.val() });
        });
        
        if (talents.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸŽ¨</div><p>No talents to showcase yet.</p></div>';
          return;
        }
        
        container.innerHTML = talents.map(talent => {
          const imageUrl = buildGitHubImageUrl(talent.imagePath);
          return `
            <div class="card talent-card">
              <div class="talent-image-container">
                <img src="${imageUrl}" alt="${talent.studentName}" class="talent-image" onerror="this.src=''; this.alt='Image failed to load'; this.style.display='none';">
                <div class="talent-subject-badge">${talent.subject}</div>
              </div>
              <div class="talent-info">
                <h3 class="talent-student-name">${talent.studentName}</h3>
                <p class="talent-description">${talent.description || 'Amazing work!'}</p>
              </div>
            </div>
          `;
        }).join('');
      });
    }

    function loadForum() {
      db.ref('forum').on('value', (snapshot) => {
        const container = document.getElementById('forumContainer');
        allData.forum = [];
        
        snapshot.forEach((child) => {
          allData.forum.push({ id: child.key, ...child.val() });
        });
        
        if (allData.forum.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ’¬</div><p>No questions yet. Be the first to ask!</p></div>';
          return;
        }
        
        container.innerHTML = allData.forum.map(q => `
          <div class="forum-question" onclick="openQuestion('${q.id}')">
            <div class="forum-question-header">
              <div class="forum-avatar">${q.userName[0].toUpperCase()}</div>
              <div class="forum-user-info">
                <div class="forum-username">${q.userName}</div>
                <div class="forum-timestamp">${new Date(q.timestamp).toLocaleDateString()}</div>
              </div>
            </div>
            <h3 class="forum-question-title">${q.title}</h3>
            <p class="forum-question-body">${q.body.substring(0, 150)}${q.body.length > 150 ? '...' : ''}</p>
            <div class="forum-stats">
              <div class="forum-stat">
                <span class="forum-stat-icon">ðŸ’¬</span>
                <span>${q.answers ? Object.keys(q.answers).length : 0} Answers</span>
              </div>
            </div>
          </div>
        `).join('');
      });
    }

    window.openQuestion = function(questionId) {
      currentQuestionId = questionId;
      const question = allData.forum.find(q => q.id === questionId);
      if (!question) return;
      
      const answers = question.answers ? Object.values(question.answers) : [];
      
      document.getElementById('modalTitle').textContent = 'Forum Question';
      document.getElementById('authSection').style.display = 'none';
      document.getElementById('adminContent').style.display = 'none';
      document.getElementById('editProfileContent').style.display = 'none';
      
      const modalBody = document.querySelector('.modal-body');
      modalBody.innerHTML = `
        <div class="forum-detail">
          <div class="forum-detail-question">
            <h2 class="forum-detail-title">${question.title}</h2>
            <p class="forum-detail-body">${question.body}</p>
            <div class="forum-detail-meta">
              <span>Asked by <strong>${question.userName}</strong></span>
              <span>â€¢</span>
              <span>${new Date(question.timestamp).toLocaleDateString()}</span>
            </div>
          </div>
          
          <div class="answers-section">
            <h3 class="answers-title">
              ðŸ’¬ ${answers.length} ${answers.length === 1 ? 'Answer' : 'Answers'}
            </h3>
            
            ${answers.length === 0 ? '<div class="no-answers">No answers yet. Be the first to help!</div>' : ''}
            
            ${answers.map(answer => `
              <div class="answer-item">
                <div class="answer-header">
                  <div class="answer-avatar">${answer.userName[0].toUpperCase()}</div>
                  <div>
                    <div class="answer-username">${answer.userName}</div>
                    <div class="answer-timestamp">${new Date(answer.timestamp).toLocaleDateString()}</div>
                  </div>
                </div>
                <p class="answer-body">${answer.text}</p>
              </div>
            `).join('')}
            
            ${currentUser ? `
              <div class="answer-form">
                <h4 style="margin-bottom: 16px; color: #1B5E20;">Your Answer</h4>
                <div class="form-group">
                  <label for="answerText">Answer</label>
                  <textarea id="answerText" placeholder="Share your knowledge..."></textarea>
                </div>
                <button class="btn btn-success" onclick="submitAnswer()">Submit Answer</button>
              </div>
            ` : `
              <div style="text-align: center; padding: 24px; background: #f8f9fa; border-radius: 12px; margin-top: 24px;">
                <p style="color: #666; margin-bottom: 12px;">Want to answer? Please log in first.</p>
                <button class="btn btn-primary" onclick="closeModal(); openAuthModal('login');">Login to Answer</button>
              </div>
            `}
          </div>
        </div>
      `;
      
      document.getElementById('mainModal').classList.add('active');
    };

    window.submitAnswer = async function() {
      if (!currentUser) {
        showToast('Please login to answer', true);
        return;
      }
      
      const text = document.getElementById('answerText').value.trim();
      if (!text) {
        showToast('Please enter an answer', true);
        return;
      }
      
      try {
        await db.ref(`forum/${currentQuestionId}/answers`).push({
          userName: currentUser.email.split('@')[0],
          text: text,
          timestamp: Date.now()
        });
        
        showToast('Answer submitted!');
        closeModal();
      } catch (error) {
        showToast(error.message, true);
      }
    };

    document.getElementById('askQuestionBtn').addEventListener('click', () => {
      if (!currentUser) {
        showToast('Please login to ask a question', true);
        openAuthModal('login');
        return;
      }
      
      document.getElementById('modalTitle').textContent = 'Ask a Question';
      document.getElementById('authSection').style.display = 'none';
      document.getElementById('adminContent').style.display = 'none';
      document.getElementById('editProfileContent').style.display = 'none';
      
      const modalBody = document.querySelector('.modal-body');
      modalBody.innerHTML = `
        <div style="max-width: 700px; margin: 0 auto;">
          <div class="form-group">
            <label for="questionTitle">Question Title</label>
            <input type="text" id="questionTitle" placeholder="What's your question?">
          </div>
          <div class="form-group">
            <label for="questionBody">Details</label>
            <textarea id="questionBody" placeholder="Provide more context..." style="min-height: 200px;"></textarea>
          </div>
          <div class="form-actions">
            <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
            <button class="btn btn-success" onclick="submitQuestion()">Post Question</button>
          </div>
        </div>
      `;
      
      document.getElementById('mainModal').classList.add('active');
    });

    window.submitQuestion = async function() {
      const title = document.getElementById('questionTitle').value.trim();
      const body = document.getElementById('questionBody').value.trim();
      
      if (!title || !body) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await db.ref('forum').push({
          userName: currentUser.email.split('@')[0],
          title: title,
          body: body,
          timestamp: Date.now()
        });
        
        showToast('Question posted!');
        closeModal();
      } catch (error) {
        showToast(error.message, true);
      }
    };

    function loadBirthdays() {
      db.ref('students').on('value', (snapshot) => {
        const container = document.getElementById('birthdayCalendar');
        const studentsByMonth = {};
        
        snapshot.forEach((child) => {
          const student = child.val();
          if (student.birthday) {
            const date = new Date(student.birthday);
            const month = date.getMonth();
            
            if (!studentsByMonth[month]) {
              studentsByMonth[month] = [];
            }
            
            studentsByMonth[month].push({
              name: student.name,
              birthday: student.birthday,
              day: date.getDate()
            });
          }
        });
        
        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
        const monthEmojis = ['ðŸŽ‰', 'ðŸ’', 'ðŸŒ¸', 'ðŸŒ·', 'ðŸŒº', 'â˜€ï¸', 'ðŸŽ†', 'ðŸŒ»', 'ðŸ‚', 'ðŸŽƒ', 'ðŸ¦ƒ', 'ðŸŽ„'];
        
        if (Object.keys(studentsByMonth).length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸŽ‚</div><p>No birthdays added yet.</p></div>';
          return;
        }
        
        container.innerHTML = `
          <div class="birthday-months">
            ${monthNames.map((month, index) => {
              const students = studentsByMonth[index] || [];
              if (students.length === 0) return '';
              
              return `
                <div class="birthday-month-card">
                  <div class="birthday-month-header">
                    <div class="birthday-month-icon">${monthEmojis[index]}</div>
                    <h3 class="birthday-month-name">${month}</h3>
                    <span class="birthday-count-badge">${students.length}</span>
                  </div>
                  <div class="birthday-list">
                    ${students.sort((a, b) => a.day - b.day).map(student => `
                      <div class="birthday-item">
                        <div class="birthday-item-avatar">${student.name[0].toUpperCase()}</div>
                        <div class="birthday-item-info">
                          <div class="birthday-item-name">${student.name}</div>
                          <div class="birthday-item-date">${month} ${student.day}</div>
                        </div>
                        <div class="birthday-item-cake">ðŸŽ‚</div>
                      </div>
                    `).join('')}
                  </div>
                </div>
              `;
            }).join('')}
          </div>
        `;
      });
    }

    function loadAnnouncements() {
      db.ref('announcements').on('value', (snapshot) => {
        const container = document.getElementById('announcementsContainer');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ“¢</div><p>No announcements yet.</p></div>';
          return;
        }
        
        container.innerHTML = items.map(item => `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">ðŸ“¢</div>
              <h3 class="card-title">${item.title}</h3>
              <div class="card-meta">
                <span class="card-meta-icon">ðŸ“…</span>
                ${new Date(item.timestamp || Date.now()).toLocaleDateString()}
              </div>
            </div>
            <div class="card-body">
              <p class="card-content">${item.description}</p>
            </div>
          </div>
        `).join('');
      });
    }

    function loadAssignments() {
      db.ref('assignments').on('value', (snapshot) => {
        const container = document.getElementById('assignmentsContainer');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ“š</div><p>No assignments yet.</p></div>';
          return;
        }
        
        container.innerHTML = items.map(item => `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">ðŸ“š</div>
              <h3 class="card-title">${item.title}</h3>
              <div class="card-meta">
                <span class="card-meta-icon">ðŸ“…</span>
                Due: ${new Date(item.dueDate).toLocaleDateString()}
              </div>
            </div>
            <div class="card-body">
              <p class="card-content">${item.description}</p>
            </div>
          </div>
        `).join('');
      });
    }

    function loadEvents() {
      db.ref('events').on('value', (snapshot) => {
        const container = document.getElementById('eventsContainer');
        allData.events = [];
        
        snapshot.forEach((child) => {
          allData.events.push({ id: child.key, ...child.val() });
        });
        
        updateStatsCounter('statsEvents', allData.events.length);
        
        if (allData.events.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ“…</div><p>No events scheduled yet.</p></div>';
          return;
        }
        
        container.innerHTML = allData.events.map(item => `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">ðŸ“…</div>
              <h3 class="card-title">${item.title}</h3>
              <div class="card-meta">
                <span class="card-meta-icon">ðŸ“</span>
                ${item.location}
              </div>
              <div class="card-meta">
                <span class="card-meta-icon">ðŸ“…</span>
                ${new Date(item.date).toLocaleDateString()}
              </div>
            </div>
            <div class="card-body">
              <p class="card-content">${item.description}</p>
            </div>
          </div>
        `).join('');
      });
    }

    function loadResearch() {
      db.ref('research').on('value', (snapshot) => {
        const container = document.getElementById('researchContainer');
        allData.research = [];
        
        snapshot.forEach((child) => {
          allData.research.push({ id: child.key, ...child.val() });
        });
        
        updateStatsCounter('statsResearch', allData.research.length);
        
        if (allData.research.length === 0) {
          container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ”¬</div><p>No research posts yet.</p></div>';
          return;
        }
        
        container.innerHTML = allData.research.map(item => `
          <div class="card">
            <div class="card-header">
              <div class="card-icon">ðŸ”¬</div>
              <h3 class="card-title">${item.title}</h3>
            </div>
            <div class="card-body">
              <p class="card-content">${item.text}</p>
            </div>
            ${item.link ? `
              <div class="card-footer">
                <a href="${item.link}" target="_blank" rel="noopener noreferrer" class="card-link">
                  Read More â†’
                </a>
              </div>
            ` : ''}
          </div>
        `).join('');
      });
    }

    function loadStudents() {
      db.ref('students').on('value', (snapshot) => {
        const container = document.getElementById('studentsContainer');
        allData.students = [];
        
        snapshot.forEach((child) => {
          allData.students.push({ id: child.key, ...child.val() });
        });
        
        updateStatsCounter('statsStudents', allData.students.length);
        renderStudents(allData.students);
      });
    }

    function renderStudents(students) {
      const container = document.getElementById('studentsContainer');
      
      if (students.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">ðŸ‘¥</div><p>No students added yet.</p></div>';
        return;
      }
      
      container.innerHTML = students.map(student => `
        <div class="card student-card">
          <div class="student-avatar">${student.name[0].toUpperCase()}</div>
          <h3 class="student-name">${student.name}</h3>
          <p class="student-role">${student.role}</p>
          ${student.birthday ? `<div class="student-birthday">ðŸŽ‚ ${new Date(student.birthday).toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}</div>` : ''}
          ${student.motto ? `<div class="student-motto">"${student.motto}"</div>` : ''}
          ${student.bio ? `<div class="student-bio">${student.bio}</div>` : ''}
          ${student.interests ? `
            <div class="student-interests">
              ${student.interests.split(',').map(interest => `<span class="interest-tag">${interest.trim()}</span>`).join('')}
            </div>
          ` : ''}
          ${student.favoriteSubject ? `<div class="student-fav-subject">ðŸ’š Favorite Subject: ${student.favoriteSubject}</div>` : ''}
        </div>
      `).join('');
    }

    // Student Search
    document.getElementById('studentSearch').addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase();
      const clearBtn = document.getElementById('clearSearch');
      
      clearBtn.style.display = query ? 'flex' : 'none';
      
      if (!query) {
        renderStudents(allData.students);
        return;
      }
      
      const filtered = allData.students.filter(student => 
        student.name.toLowerCase().includes(query) || 
        student.role.toLowerCase().includes(query)
      );
      
      renderStudents(filtered);
    });

    document.getElementById('clearSearch').addEventListener('click', () => {
      document.getElementById('studentSearch').value = '';
      document.getElementById('clearSearch').style.display = 'none';
      renderStudents(allData.students);
    });

    function updateStatsCounter(id, value) {
      const el = document.getElementById(id);
      if (el) {
        const start = parseInt(el.textContent) || 0;
        const duration = 1000;
        const increment = (value - start) / (duration / 16);
        let current = start;
        
        const animate = () => {
          current += increment;
          if ((increment > 0 && current >= value) || (increment < 0 && current <= value)) {
            el.textContent = value;
          } else {
            el.textContent = Math.floor(current);
            requestAnimationFrame(animate);
          }
        };
        
        animate();
      }
    }

    // Weather Widget
    async function loadWeather() {
      const container = document.getElementById('weatherWidget');
      
      try {
        if (!navigator.geolocation) {
          throw new Error('Geolocation not supported');
        }
        
        const position = await new Promise((resolve, reject) => {
          navigator.geolocation.getCurrentPosition(resolve, reject);
        });
        
        const { latitude, longitude } = position.coords;
        const API_KEY = '6d055e39ee237af35ca066f35474e9df';
        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${API_KEY}&units=metric`);
        
        if (!response.ok) throw new Error('Weather data unavailable');
        
        const data = await response.json();
        
        const weatherIcons = {
          'Clear': 'â˜€ï¸',
          'Clouds': 'â˜ï¸',
          'Rain': 'ðŸŒ§ï¸',
          'Drizzle': 'ðŸŒ¦ï¸',
          'Thunderstorm': 'â›ˆï¸',
          'Snow': 'â„ï¸',
          'Mist': 'ðŸŒ«ï¸',
          'Fog': 'ðŸŒ«ï¸'
        };
        
        const icon = weatherIcons[data.weather[0].main] || 'ðŸŒ¤ï¸';
        
        container.innerHTML = `
          <div class="weather-icon-display">${icon}</div>
          <div class="weather-temp">${Math.round(data.main.temp)}Â°C</div>
          <div class="weather-description">${data.weather[0].description}</div>
          <div class="weather-location">
            <span>ðŸ“</span>
            <span>${data.name}</span>
          </div>
          <div class="weather-details">
            <div class="weather-detail-item">
              <div class="weather-detail-icon">ðŸ’§</div>
              <div class="weather-detail-label">Humidity</div>
              <div class="weather-detail-value">${data.main.humidity}%</div>
            </div>
            <div class="weather-detail-item">
              <div class="weather-detail-icon">ðŸ’¨</div>
              <div class="weather-detail-label">Wind</div>
              <div class="weather-detail-value">${Math.round(data.wind.speed * 3.6)} km/h</div>
            </div>
            <div class="weather-detail-item">
              <div class="weather-detail-icon">ðŸŒ¡ï¸</div>
              <div class="weather-detail-label">Feels Like</div>
              <div class="weather-detail-value">${Math.round(data.main.feels_like)}Â°C</div>
            </div>
          </div>
        `;
      } catch (error) {
        container.innerHTML = `
          <div class="weather-error">
            <div style="font-size: 48px; margin-bottom: 16px;">ðŸŒ¤ï¸</div>
            <p>Unable to load weather data</p>
            <p style="font-size: 14px; margin-top: 8px; opacity: 0.7;">Please enable location access</p>
          </div>
        `;
      }
    }

    // Contact Form
    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const name = document.getElementById('contactName').value;
      const email = document.getElementById('contactEmail').value;
      const concern = document.getElementById('contactConcern').value;
      
      if (!name || !email || !concern) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await db.ref('contacts').push({
          name: name,
          email: email,
          concern: concern,
          timestamp: Date.now()
        });
        
        document.getElementById('contactForm').reset();
        showToast('Message sent successfully!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Admin Functions
    function loadAdminData() {
      loadAdminImages();
      loadAdminTalents();
      loadAdminForum();
      loadAdminAnnouncements();
      loadAdminAssignments();
      loadAdminEvents();
      loadAdminResearch();
      loadAdminStudents();
      loadAdminContacts();
    }

    function loadAdminImages() {
      db.ref('gallery').on('value', (snapshot) => {
        const list = document.getElementById('imagesList');
        const images = [];
        
        snapshot.forEach((child) => {
          images.push({ id: child.key, ...child.val() });
        });
        
        if (images.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No images yet</div>';
          return;
        }
        
        list.innerHTML = images.map(img => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${img.path}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('gallery', '${img.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminTalents() {
      db.ref('talents').on('value', (snapshot) => {
        const list = document.getElementById('talentsList');
        const talents = [];
        
        snapshot.forEach((child) => {
          talents.push({ id: child.key, ...child.val() });
        });
        
        if (talents.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No talents yet</div>';
          return;
        }
        
        list.innerHTML = talents.map(talent => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${talent.studentName} - ${talent.subject}</div>
              <div class="admin-item-meta">${talent.imagePath}</div>
              <div class="admin-item-desc">${talent.description || 'No description'}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('talents', '${talent.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminForum() {
      db.ref('forum').on('value', (snapshot) => {
        const list = document.getElementById('forumList');
        const questions = [];
        
        snapshot.forEach((child) => {
          questions.push({ id: child.key, ...child.val() });
        });
        
        if (questions.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No questions yet</div>';
          return;
        }
        
        list.innerHTML = questions.map(q => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${q.title}</div>
              <div class="admin-item-meta">By ${q.userName} â€¢ ${q.answers ? Object.keys(q.answers).length : 0} answers</div>
              <div class="admin-item-desc">${q.body.substring(0, 100)}...</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('forum', '${q.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminAnnouncements() {
      db.ref('announcements').on('value', (snapshot) => {
        const list = document.getElementById('announcementsList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No announcements yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.title}</div>
              <div class="admin-item-desc">${item.description}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('announcements', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminAssignments() {
      db.ref('assignments').on('value', (snapshot) => {
        const list = document.getElementById('assignmentsList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No assignments yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.title}</div>
              <div class="admin-item-meta">Due: ${new Date(item.dueDate).toLocaleDateString()}</div>
              <div class="admin-item-desc">${item.description}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('assignments', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminEvents() {
      db.ref('events').on('value', (snapshot) => {
        const list = document.getElementById('eventsList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No events yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.title}</div>
              <div class="admin-item-meta">${new Date(item.date).toLocaleDateString()} â€¢ ${item.location}</div>
              <div class="admin-item-desc">${item.description}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('events', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminResearch() {
      db.ref('research').on('value', (snapshot) => {
        const list = document.getElementById('researchList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No research posts yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.title}</div>
              <div class="admin-item-desc">${item.text}</div>
              ${item.link ? `<div class="admin-item-meta">ðŸ”— ${item.link}</div>` : ''}
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('research', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminStudents() {
      db.ref('students').on('value', (snapshot) => {
        const list = document.getElementById('studentsList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No students yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.name}</div>
              <div class="admin-item-meta">${item.role}${item.birthday ? ' â€¢ ðŸŽ‚ ' + new Date(item.birthday).toLocaleDateString() : ''}</div>
              ${item.motto ? `<div class="admin-item-desc">"${item.motto}"</div>` : ''}
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('students', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    function loadAdminContacts() {
      db.ref('contacts').on('value', (snapshot) => {
        const list = document.getElementById('contactsList');
        const items = [];
        
        snapshot.forEach((child) => {
          items.push({ id: child.key, ...child.val() });
        });
        
        if (items.length === 0) {
          list.innerHTML = '<div style="text-align: center; padding: 40px; color: #888;">No messages yet</div>';
          return;
        }
        
        list.innerHTML = items.map(item => `
          <div class="admin-item">
            <div class="admin-item-content">
              <div class="admin-item-title">${item.name}</div>
              <div class="admin-item-meta">${item.email} â€¢ ${new Date(item.timestamp).toLocaleDateString()}</div>
              <div class="admin-item-desc">${item.concern}</div>
            </div>
            <button class="btn btn-danger btn-small" onclick="deleteItem('contacts', '${item.id}')">Delete</button>
          </div>
        `).join('');
      });
    }

    // Admin Add Handlers
    document.getElementById('addImageBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const path = document.getElementById('imagePathInput').value.trim();
      if (!path) {
        showToast('Please enter an image path', true);
        return;
      }
      
      try {
        await db.ref('gallery').push({ path: path });
        document.getElementById('imagePathInput').value = '';
        showToast('Image added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addTalentBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const studentName = document.getElementById('talentStudentName').value.trim();
      const subject = document.getElementById('talentSubject').value;
      const imagePath = document.getElementById('talentImagePath').value.trim();
      const description = document.getElementById('talentDescription').value.trim();
      
      if (!studentName || !subject || !imagePath) {
        showToast('Please fill in all required fields', true);
        return;
      }
      
      try {
        await db.ref('talents').push({
          studentName: studentName,
          subject: subject,
          imagePath: imagePath,
          description: description
        });
        
        document.getElementById('talentStudentName').value = '';
        document.getElementById('talentSubject').value = '';
        document.getElementById('talentImagePath').value = '';
        document.getElementById('talentDescription').value = '';
        showToast('Talent added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addAnnouncementBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const title = document.getElementById('announcementTitle').value.trim();
      const description = document.getElementById('announcementDesc').value.trim();
      
      if (!title || !description) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await db.ref('announcements').push({
          title: title,
          description: description,
          timestamp: Date.now()
        });
        
        document.getElementById('announcementTitle').value = '';
        document.getElementById('announcementDesc').value = '';
        showToast('Announcement added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addAssignmentBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const title = document.getElementById('assignmentTitle').value.trim();
      const description = document.getElementById('assignmentDesc').value.trim();
      const dueDate = document.getElementById('assignmentDue').value;
      
      if (!title || !description || !dueDate) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await db.ref('assignments').push({
          title: title,
          description: description,
          dueDate: dueDate,
          timestamp: Date.now()
        });
        
        document.getElementById('assignmentTitle').value = '';
        document.getElementById('assignmentDesc').value = '';
        document.getElementById('assignmentDue').value = '';
        showToast('Assignment added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addEventBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const title = document.getElementById('eventTitle').value.trim();
      const date = document.getElementById('eventDate').value;
      const location = document.getElementById('eventLocation').value.trim();
      const description = document.getElementById('eventDesc').value.trim();
      
      if (!title || !date || !location || !description) {
        showToast('Please fill in all fields', true);
        return;
      }
      
      try {
        await db.ref('events').push({
          title: title,
          date: date,
          location: location,
          description: description,
          timestamp: Date.now()
        });
        
        document.getElementById('eventTitle').value = '';
        document.getElementById('eventDate').value = '';
        document.getElementById('eventLocation').value = '';
        document.getElementById('eventDesc').value = '';
        showToast('Event added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addResearchBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const title = document.getElementById('researchTitle').value.trim();
      const text = document.getElementById('researchText').value.trim();
      const link = document.getElementById('researchLink').value.trim();
      
      if (!title || !text) {
        showToast('Please fill in title and summary', true);
        return;
      }
      
      try {
        await db.ref('research').push({
          title: title,
          text: text,
          link: link,
          timestamp: Date.now()
        });
        
        document.getElementById('researchTitle').value = '';
        document.getElementById('researchText').value = '';
        document.getElementById('researchLink').value = '';
        showToast('Research post added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    document.getElementById('addStudentBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      
      const name = document.getElementById('studentName').value.trim();
      const role = document.getElementById('studentRole').value.trim();
      const birthday = document.getElementById('studentBirthday').value;
      const motto = document.getElementById('studentMotto').value.trim();
      const bio = document.getElementById('studentBio').value.trim();
      const interests = document.getElementById('studentInterests').value.trim();
      const favoriteSubject = document.getElementById('studentFavSubject').value;
      
      if (!name || !role) {
        showToast('Please fill in name and role', true);
        return;
      }
      
      try {
        await db.ref('students').push({
          name: name,
          role: role,
          birthday: birthday || null,
          motto: motto || null,
          bio: bio || null,
          interests: interests || null,
          favoriteSubject: favoriteSubject || null,
          timestamp: Date.now()
        });
        
        document.getElementById('studentName').value = '';
        document.getElementById('studentRole').value = '';
        document.getElementById('studentBirthday').value = '';
        document.getElementById('studentMotto').value = '';
        document.getElementById('studentBio').value = '';
        document.getElementById('studentInterests').value = '';
        document.getElementById('studentFavSubject').value = '';
        showToast('Student added!');
      } catch (error) {
        showToast(error.message, true);
      }
    });

    window.deleteItem = async function(collection, id) {
      if (!isAdmin) return;
      
      if (!confirm('Are you sure you want to delete this item?')) return;
      
      try {
        await db.ref(`${collection}/${id}`).remove();
        showToast('Item deleted!');
      } catch (error) {
        showToast(error.message, true);
      }
    };

    // Scroll Animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.fade-in-section').forEach(el => {
      observer.observe(el);
    });

    // Initialize
    loadGallery();
    loadTalents();
    loadForum();
    loadBirthdays();
    loadAnnouncements();
    loadAssignments();
    loadEvents();
    loadResearch();
    loadStudents();
    loadWeather();

    // Initial button setup
    document.getElementById('loginNavBtn').addEventListener('click', () => openAuthModal('login'));
    document.getElementById('signupNavBtn').addEventListener('click', () => openAuthModal('signup'));
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a97c285365cce3d',t:'MTc2NDk4MTkyMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
