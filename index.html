<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Grade 7‚ÄìMatapat | CvSU</title>
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background: #f8f9fa;
      color: #333;
      line-height: 1.6;
      width: 100%;
      overflow-x: hidden;
    }

    /* Sticky Navbar */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      transition: all 0.3s ease;
      width: 100%;
    }

    .navbar.scrolled {
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.15);
    }

    .navbar-container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 70px;
    }

    .navbar-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: 800;
      color: #1B5E20;
      text-decoration: none;
    }

    .nav-logo {
      width: 35px;
      height: 35px;
      object-fit: contain;
      filter: drop-shadow(0 2px 8px rgba(27, 94, 32, 0.3));
      transition: transform 0.3s ease;
    }

    .nav-logo:hover {
      transform: scale(1.05);
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 28px;
      color: #1B5E20;
      cursor: pointer;
      padding: 8px;
    }

    .navbar-menu {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .nav-link {
      color: #555;
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      transition: color 0.3s ease;
      position: relative;
      padding: 8px 0;
      white-space: nowrap;
    }

    .nav-link:hover {
      color: #1B5E20;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: #1B5E20;
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .nav-buttons {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .btn {
      padding: 10px 24px;
      border: none;
      border-radius: 8px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .btn-outline {
      background: transparent;
      color: #1B5E20;
      border: 2px solid #1B5E20;
    }

    .btn-outline:hover {
      background: #1B5E20;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .btn-primary {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      border: none;
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(27, 94, 32, 0.4);
    }

    .btn-success {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
    }

    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(27, 94, 32, 0.4);
    }

    .btn-danger {
      background: linear-gradient(135deg, #d32f2f, #c62828);
      color: white;
      padding: 8px 16px;
      font-size: 14px;
    }

    .btn-danger:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(211, 47, 47, 0.4);
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
      transform: translateY(-2px);
    }

    .btn-small {
      padding: 8px 16px;
      font-size: 14px;
    }

    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(27, 94, 32, 0.2);
    }

    .user-avatar:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 20px rgba(27, 94, 32, 0.3);
    }

    /* Hero Section */
    .hero {
      margin-top: 70px;
      background: linear-gradient(135deg, #1B5E20 0%, #2E7D32 50%, #388E3C 100%);
      color: white;
      padding: 120px 20px 80px;
      text-align: center;
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      opacity: 0.3;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
      animation: fadeInUp 1s ease;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .hero h1 {
      font-size: 64px;
      font-weight: 900;
      margin-bottom: 16px;
      text-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      letter-spacing: -1px;
      animation: fadeInUp 1s ease 0.2s backwards;
    }

    .hero .subtitle {
      font-size: 28px;
      opacity: 0.95;
      margin-bottom: 12px;
      font-weight: 300;
      animation: fadeInUp 1s ease 0.4s backwards;
    }

    .hero .tagline {
      font-size: 18px;
      opacity: 0.85;
      margin-bottom: 40px;
      animation: fadeInUp 1s ease 0.6s backwards;
    }

    /* Room Logo */
    .room-logo-container {
      margin-bottom: 32px;
      animation: fadeInUp 1s ease backwards;
    }

    .room-logo {
      max-width: 180px;
      max-height: 180px;
      filter: drop-shadow(0 8px 30px rgba(0, 0, 0, 0.3));
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
    }

    /* Room Motto Section */
    .motto-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 24px;
      margin: 48px auto 64px;
      max-width: 900px;
      animation: fadeInUp 1s ease 0.6s backwards;
    }

    .motto-decoration {
      width: 80px;
      height: 80px;
      color: rgba(255, 255, 255, 0.8);
      flex-shrink: 0;
      animation: pulse 2s ease-in-out infinite;
    }

    .motto-decoration.left {
      animation-delay: 0s;
    }

    .motto-decoration.right {
      animation-delay: 0.5s;
      transform: scaleX(-1);
    }

    @keyframes pulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
    }

    .motto-text-wrapper {
      flex: 1;
      position: relative;
      padding: 32px 40px;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .motto-text-wrapper::before,
    .motto-text-wrapper::after {
      content: '"';
      position: absolute;
      font-size: 80px;
      font-weight: 900;
      opacity: 0.2;
      font-family: Georgia, serif;
      color: white;
    }

    .motto-text-wrapper::before {
      top: -20px;
      left: 20px;
    }

    .motto-text-wrapper::after {
      bottom: -40px;
      right: 20px;
    }

    .motto-text {
      font-size: 28px;
      font-weight: 700;
      line-height: 1.6;
      text-align: center;
      color: white;
      font-style: italic;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      margin: 0;
      position: relative;
      z-index: 1;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 80px;
      margin-top: 60px;
      flex-wrap: wrap;
      animation: fadeInUp 1s ease 0.8s backwards;
    }

    .stat-item {
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 12px;
      transition: transform 0.3s ease;
    }

    .stat-item:hover {
      transform: translateY(-8px);
    }

    .stat-icon {
      width: 48px;
      height: 48px;
      opacity: 0.9;
      filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.2));
    }

    .stat-number {
      font-size: 56px;
      font-weight: 900;
      display: block;
      margin-bottom: 4px;
      text-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .stat-label {
      font-size: 16px;
      opacity: 0.95;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Section Styles */
    .section {
      padding: 100px 20px;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }

    .section-header {
      text-align: center;
      margin-bottom: 60px;
      animation: fadeInUp 0.8s ease;
    }

    .section-badge {
      display: inline-block;
      background: rgba(27, 94, 32, 0.1);
      color: #1B5E20;
      padding: 8px 20px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }

    .section-title {
      font-size: 48px;
      color: #1B5E20;
      margin-bottom: 16px;
      font-weight: 900;
      letter-spacing: -1px;
    }

    .section-description {
      font-size: 18px;
      color: #666;
      max-width: 700px;
      margin: 0 auto 32px;
      line-height: 1.8;
    }

    /* Search Bar */
    .search-container {
      position: relative;
      max-width: 600px;
      margin: 32px auto 0;
      animation: fadeInUp 0.8s ease 0.3s backwards;
    }

    .search-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      width: 24px;
      height: 24px;
      color: #888;
      pointer-events: none;
      z-index: 1;
    }

    .search-input {
      width: 100%;
      padding: 18px 56px 18px 56px;
      border: 3px solid #e0e0e0;
      border-radius: 50px;
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: white;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    .search-input:focus {
      outline: none;
      border-color: #1B5E20;
      box-shadow: 0 8px 30px rgba(27, 94, 32, 0.15);
      transform: translateY(-2px);
    }

    .search-clear {
      position: absolute;
      right: 16px;
      top: 50%;
      transform: translateY(-50%);
      background: #d32f2f;
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      padding: 0;
    }

    .search-clear:hover {
      background: #c62828;
      transform: translateY(-50%) scale(1.1);
    }

    /* Modern Card Styles */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
      gap: 32px;
      margin-top: 40px;
    }

    .card {
      background: white;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      animation: fadeInUp 0.6s ease backwards;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(90deg, #1B5E20, #2E7D32, #43A047);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-12px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }

    .card:nth-child(1) { animation-delay: 0.1s; }
    .card:nth-child(2) { animation-delay: 0.2s; }
    .card:nth-child(3) { animation-delay: 0.3s; }
    .card:nth-child(4) { animation-delay: 0.4s; }
    .card:nth-child(5) { animation-delay: 0.5s; }
    .card:nth-child(6) { animation-delay: 0.6s; }

    .card-header {
      padding: 32px 28px 24px;
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
    }

    .card-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      margin-bottom: 20px;
      box-shadow: 0 8px 20px rgba(27, 94, 32, 0.25);
    }

    .card-title {
      font-size: 24px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }

    .card-meta {
      font-size: 14px;
      color: #888;
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 4px;
    }

    .card-meta-icon {
      font-size: 16px;
    }

    .card-body {
      padding: 0 28px 28px;
    }

    .card-content {
      color: #555;
      line-height: 1.7;
      margin-bottom: 20px;
    }

    .card-footer {
      padding: 20px 28px;
      border-top: 1px solid #f0f0f0;
      display: flex;
      gap: 8px;
      justify-content: flex-end;
    }

    .card-link {
      color: #1B5E20;
      font-weight: 700;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: gap 0.3s ease;
    }

    .card-link:hover {
      gap: 10px;
    }

    /* Image Carousel - Modern Style */
    .carousel-section {
      background: white;
      padding: 80px 0;
    }

    .carousel-container {
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 24px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      background: #f5f5f5;
      min-height: 500px;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      height: 500px;
    }

    .carousel-slide {
      min-width: 100%;
      height: 500px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 40px;
    }

    .carousel-slide img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
    }

    .carousel-overlay {
      position: absolute;
      bottom: 60px;
      left: 60px;
      right: 60px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 24px 32px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.8);
      transform: translateY(120%);
      transition: transform 0.4s ease;
    }

    .carousel-overlay h3 {
      color: #1B5E20 !important;
    }

    .carousel-slide:hover .carousel-overlay {
      transform: translateY(0);
    }

    .carousel-empty {
      font-size: 20px;
      color: #888;
      text-align: center;
      padding: 100px 40px;
    }

    .carousel-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: white;
      border: none;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
      z-index: 10;
    }

    .carousel-nav:hover {
      background: #1B5E20;
      color: white;
      transform: translateY(-50%) scale(1.1);
    }

    .carousel-nav.prev { left: 20px; }
    .carousel-nav.next { right: 20px; }

    .carousel-indicators {
      position: absolute;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 12px;
      z-index: 10;
    }

    .indicator {
      width: 40px;
      height: 6px;
      border-radius: 3px;
      background: rgba(255, 255, 255, 0.4);
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .indicator.active {
      background: white;
      width: 60px;
    }

    /* Student Cards - Special Design */
    .student-card {
      text-align: center;
      padding: 40px 28px;
      background: white;
      position: relative;
    }

    .student-avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: linear-gradient(135deg, #1B5E20, #43A047);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px;
      font-size: 40px;
      font-weight: 900;
      color: white;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
    }

    .student-name {
      font-size: 24px;
      font-weight: 800;
      color: #1B5E20;
      margin-bottom: 8px;
    }

    .student-role {
      font-size: 16px;
      color: #888;
      margin-bottom: 20px;
      font-weight: 600;
    }

    .student-motto {
      font-style: italic;
      color: #666;
      background: rgba(27, 94, 32, 0.05);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid #1B5E20;
      line-height: 1.7;
    }

    /* Modal - Modern Design */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      z-index: 2000;
      overflow-y: auto;
      padding: 20px;
      animation: fadeIn 0.3s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .modal.active {
      display: flex;
      align-items: flex-start;
      justify-content: center;
    }

    .modal-content {
      background: white;
      border-radius: 24px;
      max-width: 1000px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      margin: 40px auto;
      box-shadow: 0 20px 80px rgba(0, 0, 0, 0.4);
      animation: slideUp 0.4s ease;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-header {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 32px;
      border-radius: 24px 24px 0 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h2 {
      font-size: 32px;
      font-weight: 900;
      letter-spacing: -0.5px;
    }

    .close-modal {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      padding: 0;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s ease;
    }

    .close-modal:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 40px;
    }

    .auth-container {
      max-width: 450px;
      margin: 0 auto;
    }

    .auth-form {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.05), rgba(46, 125, 50, 0.05));
      padding: 40px;
      border-radius: 20px;
      border: 2px solid rgba(27, 94, 32, 0.1);
    }

    .auth-tabs {
      display: flex;
      gap: 12px;
      margin-bottom: 32px;
      background: white;
      padding: 6px;
      border-radius: 12px;
    }

    .auth-tab {
      flex: 1;
      padding: 12px;
      background: transparent;
      border: none;
      font-size: 16px;
      font-weight: 700;
      color: #888;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .auth-tab.active {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      box-shadow: 0 4px 15px rgba(27, 94, 32, 0.3);
    }

    .admin-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 32px;
      border-bottom: 2px solid #f0f0f0;
      overflow-x: auto;
      padding-bottom: 4px;
    }

    .admin-tab {
      padding: 14px 24px;
      background: transparent;
      border: none;
      font-size: 15px;
      font-weight: 700;
      color: #888;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
      white-space: nowrap;
      border-radius: 8px 8px 0 0;
    }

    .admin-tab:hover {
      color: #1B5E20;
      background: rgba(27, 94, 32, 0.05);
    }

    .admin-tab.active {
      color: #1B5E20;
      border-bottom-color: #1B5E20;
      background: rgba(27, 94, 32, 0.08);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
      animation: fadeIn 0.4s ease;
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 24px;
    }

    .form-group label {
      display: block;
      font-weight: 700;
      margin-bottom: 10px;
      color: #333;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 14px 18px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-size: 16px;
      font-family: inherit;
      transition: all 0.3s ease;
      background: white;
    }

    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      outline: none;
      border-color: #1B5E20;
      box-shadow: 0 0 0 4px rgba(27, 94, 32, 0.1);
    }

    .form-group textarea {
      resize: vertical;
      min-height: 120px;
    }

    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 32px;
    }

    /* Admin List */
    .admin-list {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 32px;
    }

    .admin-item {
      background: linear-gradient(135deg, rgba(27, 94, 32, 0.03), rgba(46, 125, 50, 0.03));
      padding: 24px;
      border-radius: 16px;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      border: 2px solid rgba(27, 94, 32, 0.1);
      transition: all 0.3s ease;
    }

    .admin-item:hover {
      border-color: rgba(27, 94, 32, 0.3);
      box-shadow: 0 4px 20px rgba(27, 94, 32, 0.1);
    }

    .admin-item-content {
      flex: 1;
    }

    .admin-item-title {
      font-weight: 800;
      font-size: 20px;
      color: #1B5E20;
      margin-bottom: 8px;
    }

    .admin-item-meta {
      font-size: 14px;
      color: #888;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .admin-item-desc {
      color: #555;
      line-height: 1.7;
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 80px 20px;
      color: #888;
      font-size: 18px;
    }

    .empty-state-icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.3;
    }

    /* Loading */
    .loading {
      text-align: center;
      padding: 60px 20px;
      color: #888;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #1B5E20;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin: 0 auto 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Toast */
    .toast {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: white;
      color: #333;
      padding: 20px 28px;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
      z-index: 3000;
      animation: slideInRight 0.4s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      border-left: 4px solid #1B5E20;
    }

    .toast.error {
      border-left-color: #d32f2f;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Contact Section */
    .contact-section {
      background: linear-gradient(135deg, #f8f9fa, #ffffff);
      padding: 100px 20px;
      position: relative;
    }

    .contact-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .contact-card {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
      border: 2px solid rgba(27, 94, 32, 0.1);
    }

    .contact-icon-wrapper {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 32px;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
    }

    .contact-icon {
      width: 40px;
      height: 40px;
      color: white;
    }

    .contact-title {
      font-size: 36px;
      font-weight: 900;
      color: #1B5E20;
      text-align: center;
      margin-bottom: 12px;
      letter-spacing: -0.5px;
    }

    .contact-subtitle {
      text-align: center;
      font-size: 18px;
      color: #666;
      margin-bottom: 40px;
      line-height: 1.6;
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .submit-btn {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 18px 48px;
      border: none;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 24px rgba(27, 94, 32, 0.3);
      margin-top: 16px;
    }

    .submit-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 32px rgba(27, 94, 32, 0.4);
    }

    .submit-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    /* Footer */
    .footer {
      background: linear-gradient(135deg, #1B5E20, #2E7D32);
      color: white;
      padding: 60px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
      width: 100%;
    }

    .footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="footergrid" width="100" height="100" patternUnits="userSpaceOnUse"><path d="M 100 0 L 0 0 0 100" fill="none" stroke="rgba(255,255,255,0.03)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23footergrid)"/></svg>');
      opacity: 0.5;
    }

    .footer-content {
      position: relative;
      z-index: 1;
      max-width: 600px;
      margin: 0 auto;
    }

    .footer-hearts {
      display: flex;
      justify-content: center;
      gap: 16px;
      margin-bottom: 24px;
    }

    .heart-icon {
      width: 32px;
      height: 32px;
      color: #ff4444;
      filter: drop-shadow(0 4px 8px rgba(255, 68, 68, 0.4));
    }

    .heart-icon.beat {
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    .heart-icon:nth-child(1) {
      animation-delay: 0s;
    }

    .heart-icon:nth-child(2) {
      animation-delay: 0.2s;
    }

    .heart-icon:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes heartbeat {
      0%, 100% {
        transform: scale(1);
      }
      10% {
        transform: scale(1.2);
      }
      20% {
        transform: scale(1);
      }
      30% {
        transform: scale(1.15);
      }
      40% {
        transform: scale(1);
      }
    }

    .footer-text {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 24px;
      letter-spacing: 0.5px;
    }

    .footer-name {
      font-weight: 900;
      font-size: 28px;
      background: linear-gradient(45deg, #fff, #ffd700, #fff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shimmer 3s ease-in-out infinite;
      display: inline-block;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    }

    @keyframes shimmer {
      0%, 100% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
    }

    .footer-sparkles {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 24px;
    }

    .sparkle {
      width: 20px;
      height: 20px;
      color: #ffd700;
      animation: twinkle 2s ease-in-out infinite;
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
    }

    .sparkle:nth-child(1) {
      animation-delay: 0s;
    }

    .sparkle:nth-child(2) {
      animation-delay: 0.6s;
    }

    .sparkle:nth-child(3) {
      animation-delay: 1.2s;
    }

    @keyframes twinkle {
      0%, 100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
      50% {
        opacity: 0.3;
        transform: scale(0.7) rotate(180deg);
      }
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .navbar-menu {
        gap: 12px;
      }

      .nav-link {
        font-size: 13px;
      }

      .navbar-brand {
        font-size: 16px;
      }
    }

    @media (max-width: 768px) {
      .navbar-container {
        padding: 0 16px;
      }

      .navbar-brand span {
        display: none;
      }

      .menu-toggle {
        display: block;
      }

      .navbar-menu {
        position: fixed;
        top: 70px;
        left: 0;
        right: 0;
        background: white;
        flex-direction: column;
        padding: 20px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        transform: translateY(-100%);
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
        z-index: 999;
      }

      .navbar-menu.active {
        transform: translateY(0);
        opacity: 1;
        pointer-events: all;
      }

      .nav-link {
        padding: 12px 0;
        width: 100%;
        text-align: center;
        font-size: 16px;
      }

      .hero h1 {
        font-size: 36px;
      }

      .hero .subtitle {
        font-size: 20px;
      }

      .section-title {
        font-size: 32px;
      }

      .cards-grid {
        grid-template-columns: 1fr;
      }

      .hero-stats {
        gap: 30px;
      }

      .stat-number {
        font-size: 36px;
      }

      .carousel-track,
      .carousel-slide {
        height: 350px;
      }

      .carousel-nav {
        width: 44px;
        height: 44px;
      }

      .modal-content {
        margin: 0;
        border-radius: 0;
        max-height: 100%;
      }

      .contact-card {
        padding: 32px 24px;
      }

      .contact-title {
        font-size: 28px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .room-logo {
        max-width: 120px;
        max-height: 120px;
      }

      .motto-container {
        flex-direction: column;
        gap: 16px;
      }

      .motto-decoration {
        width: 60px;
        height: 60px;
      }

      .motto-decoration.right {
        transform: scaleX(-1) scaleY(-1);
      }

      .motto-text-wrapper {
        padding: 24px 28px;
      }

      .motto-text {
        font-size: 20px;
      }

      .motto-text-wrapper::before {
        font-size: 60px;
        top: -10px;
        left: 10px;
      }

      .motto-text-wrapper::after {
        font-size: 60px;
        bottom: -30px;
        right: 10px;
      }

      .footer-text {
        font-size: 20px;
      }

      .footer-name {
        font-size: 24px;
      }
    }

    /* Scroll Animations */
    .fade-in-section {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    .fade-in-section.visible {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Sticky Navbar -->
  <nav class="navbar" id="navbar">
   <div class="navbar-container"><a href="#" class="navbar-brand"> <img id="navRoomLogo" src="" alt="Logo" class="nav-logo" style="display: none;"> </a> <button class="menu-toggle" id="menuToggle">‚ò∞</button>
    <div class="navbar-menu" id="navbarMenu"><a href="#gallery" class="nav-link">Gallery</a> <a href="#announcements" class="nav-link">Announcements</a> <a href="#assignments" class="nav-link">Assignments</a> <a href="#events" class="nav-link">Events</a> <a href="#research" class="nav-link">Research</a> <a href="#students" class="nav-link">Students</a> <a href="#contact" class="nav-link">Contact</a>
    </div>
    <div class="nav-buttons" id="navButtons"><button class="btn btn-outline" id="loginNavBtn">Login</button> <button class="btn btn-primary" id="signupNavBtn">Sign Up</button>
    </div>
   </div>
  </nav><!-- Hero Section with Motto -->
  <header class="hero">
   <div class="hero-content"><!-- Room Logo -->
    <div class="room-logo-container"><img id="navRoomLogo2" src="" alt="Logo" class="nav-logo" style="width: 80px; height: 80px; display: none; filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.3)); margin-bottom: 16px;"> <img id="roomLogo" src="" alt="Room Logo" class="room-logo" style="display: none;">
    </div>
    <h1 id="mainTitle">Grade 7‚ÄìMatapat</h1>
    <p class="subtitle" id="subtitle">Cavite State University</p><!-- Room Motto - Main Feature -->
    <div class="motto-container">
     <svg class="motto-decoration left" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,50 Q30,30 50,40 T80,50" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" /> <circle cx="20" cy="50" r="3" fill="currentColor" /> <circle cx="50" cy="40" r="2" fill="currentColor" /> <circle cx="80" cy="50" r="3" fill="currentColor" />
     </svg>
     <div class="motto-text-wrapper">
      <p class="motto-text" id="roomMotto">Excellence in Education, Character, and Service</p>
     </div>
     <svg class="motto-decoration right" viewbox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20,50 Q30,30 50,40 T80,50" stroke="currentColor" stroke-width="2" fill="none" opacity="0.6" /> <circle cx="20" cy="50" r="3" fill="currentColor" /> <circle cx="50" cy="40" r="2" fill="currentColor" /> <circle cx="80" cy="50" r="3" fill="currentColor" />
     </svg>
    </div>
    <div class="hero-stats">
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" fill="currentColor" />
      </svg><span class="stat-number" id="statsStudents">0</span> <span class="stat-label">Students</span>
     </div>
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z" fill="currentColor" />
      </svg><span class="stat-number" id="statsEvents">0</span> <span class="stat-label">Events</span>
     </div>
     <div class="stat-item">
      <svg class="stat-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4c-1.48 0-2.85.43-4.01 1.17l1.46 1.46C10.21 6.23 11.08 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3 0 1.13-.64 2.11-1.56 2.62l1.45 1.45C23.16 18.16 24 16.68 24 15c0-2.64-2.05-4.78-4.65-4.96zM3 5.27l2.75 2.74C2.56 8.15 0 10.77 0 14c0 3.31 2.69 6 6 6h11.73l2 2L21 20.73 4.27 4 3 5.27zM7.73 10l8 8H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h1.73z" fill="currentColor" />
      </svg><span class="stat-number" id="statsResearch">0</span> <span class="stat-label">Research Posts</span>
     </div>
    </div>
   </div>
  </header><!-- Gallery Section -->
  <section class="carousel-section" id="gallery">
   <div class="section-header fade-in-section"><span class="section-badge">Gallery</span>
    <h2 class="section-title">Our Moments</h2>
    <p class="section-description">Capturing memories and milestones of Grade 7‚ÄìMatapat</p>
   </div>
   <div class="carousel-container" id="carouselContainer">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading gallery...</p>
    </div>
   </div>
  </section><!-- Announcements -->
  <section class="section" id="announcements">
   <div class="section-header fade-in-section"><span class="section-badge">Updates</span>
    <h2 class="section-title">Announcements</h2>
    <p class="section-description">Stay informed with the latest news and updates</p>
   </div>
   <div id="announcementsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading announcements...</p>
    </div>
   </div>
  </section><!-- Assignments -->
  <section class="section" id="assignments">
   <div class="section-header fade-in-section"><span class="section-badge">Academics</span>
    <h2 class="section-title">Assignments</h2>
    <p class="section-description">Keep track of upcoming assignments and deadlines</p>
   </div>
   <div id="assignmentsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading assignments...</p>
    </div>
   </div>
  </section><!-- Events -->
  <section class="section" id="events">
   <div class="section-header fade-in-section"><span class="section-badge">Calendar</span>
    <h2 class="section-title">Upcoming Events</h2>
    <p class="section-description">Don't miss out on exciting activities and gatherings</p>
   </div>
   <div id="eventsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading events...</p>
    </div>
   </div>
  </section><!-- Research -->
  <section class="section" id="research">
   <div class="section-header fade-in-section"><span class="section-badge">Academic Excellence</span>
    <h2 class="section-title">Research Posts</h2>
    <p class="section-description">Explore student research and academic contributions</p>
   </div>
   <div id="researchContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading research posts...</p>
    </div>
   </div>
  </section><!-- Students -->
  <section class="section" id="students">
   <div class="section-header fade-in-section"><span class="section-badge">Community</span>
    <h2 class="section-title">Student Directory</h2>
    <p class="section-description">Meet the amazing students of Grade 7‚ÄìMatapat</p><!-- Search Bar -->
    <div class="search-container">
     <svg class="search-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor" />
     </svg><input type="text" id="studentSearch" class="search-input" placeholder="Search students by name or role..."> <button class="search-clear" id="clearSearch" style="display: none;">√ó</button>
    </div>
   </div>
   <div id="studentsContainer" class="cards-grid">
    <div class="loading">
     <div class="spinner"></div>
     <p>Loading students...</p>
    </div>
   </div>
  </section><!-- Contact Section -->
  <section class="contact-section" id="contact">
   <div class="contact-container">
    <div class="section-header fade-in-section"><span class="section-badge">Get In Touch</span>
     <h2 class="section-title">Reach Out to Us</h2>
     <p class="section-description">Have questions or concerns? We'd love to hear from you!</p>
    </div>
    <div class="contact-card fade-in-section">
     <div class="contact-icon-wrapper">
      <svg class="contact-icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor" />
      </svg>
     </div>
     <form class="contact-form" id="contactForm">
      <div class="form-row">
       <div class="form-group"><label for="contactName">Full Name</label> <input type="text" id="contactName" placeholder="Your name" required>
       </div>
       <div class="form-group"><label for="contactEmail">Email Address</label> <input type="email" id="contactEmail" placeholder="your@email.com" required>
       </div>
      </div>
      <div class="form-group"><label for="contactConcern">Your Concern</label> <textarea id="contactConcern" placeholder="Tell us what's on your mind..." required style="min-height: 150px;"></textarea>
      </div><button type="submit" class="submit-btn" id="submitContactBtn"> Send Message </button>
     </form>
    </div>
   </div>
  </section><!-- Footer -->
  <footer class="footer">
   <div class="footer-content">
    <div class="footer-hearts">
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
     <svg class="heart-icon beat" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="currentColor" />
     </svg>
    </div>
    <p class="footer-text">Made by <span class="footer-name">Athan</span></p>
    <div class="footer-sparkles">
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
     <svg class="sparkle" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l2.4 7.2H22l-6 4.8 2.4 7.2L12 16.8 5.6 21.2 8 14 2 9.2h7.6z" fill="currentColor" />
     </svg>
    </div>
   </div>
  </footer><!-- Auth/Admin Modal -->
  <div class="modal" id="mainModal">
   <div class="modal-content">
    <div class="modal-header">
     <h2 id="modalTitle">Welcome</h2><button class="close-modal" id="closeModal">√ó</button>
    </div>
    <div class="modal-body"><!-- Auth Section -->
     <div id="authSection" class="auth-container">
      <div class="auth-form">
       <div class="auth-tabs"><button class="auth-tab active" data-auth-tab="login">Login</button> <button class="auth-tab" data-auth-tab="signup">Sign Up</button>
       </div><!-- Login Form -->
       <div class="auth-content active" id="auth-login">
        <div class="form-group"><label for="loginEmail">Email Address</label> <input type="email" id="loginEmail" placeholder="your@email.com">
        </div>
        <div class="form-group"><label for="loginPassword">Password</label> <input type="password" id="loginPassword" placeholder="Enter your password">
        </div><button class="btn btn-success" style="width: 100%; margin-bottom: 16px;" id="loginBtn">Login</button>
        <div style="text-align: center; margin: 20px 0; color: #888; font-weight: 600;">
         OR
        </div><button class="btn btn-secondary" style="width: 100%; display: flex; align-items: center; justify-content: center; gap: 12px; background: white; color: #333; border: 2px solid #e0e0e0;" id="googleLoginBtn">
         <svg width="20" height="20" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4" /> <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853" /> <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05" /> <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335" />
         </svg> Continue with Google </button>
       </div><!-- Signup Form -->
       <div class="auth-content" id="auth-signup" style="display: none;">
        <div class="form-group"><label for="signupEmail">Email Address</label> <input type="email" id="signupEmail" placeholder="your@email.com">
        </div>
        <div class="form-group"><label for="signupPassword">Password</label> <input type="password" id="signupPassword" placeholder="Create a password">
        </div>
        <div class="form-group"><label for="signupConfirm">Confirm Password</label> <input type="password" id="signupConfirm" placeholder="Confirm password">
        </div><button class="btn btn-success" style="width: 100%;" id="signupBtn">Sign Up</button>
       </div>
      </div>
     </div><!-- Admin Panel -->
     <div id="adminContent" style="display: none;">
      <div class="admin-tabs"><button class="admin-tab active" data-tab="images">ÔøΩÔøΩÔøΩÔ∏è Gallery</button> <button class="admin-tab" data-tab="announcements">üì¢ Announcements</button> <button class="admin-tab" data-tab="assignments">üìö Assignments</button> <button class="admin-tab" data-tab="events">üìÖ Events</button> <button class="admin-tab" data-tab="research">üî¨ Research</button> <button class="admin-tab" data-tab="students">üë• Students</button> <button class="admin-tab" data-tab="contacts">‚úâÔ∏è Contacts</button>
      </div><!-- Images Tab -->
      <div class="tab-content active" id="tab-images">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Gallery Images</h3>
       <div class="form-group"><label for="imagePathInput">Image Path</label> <input type="text" id="imagePathInput" placeholder="images/photo.jpg">
       </div><button class="btn btn-success" id="addImageBtn">Add Image</button>
       <div class="admin-list" id="imagesList"></div>
      </div><!-- Announcements Tab -->
      <div class="tab-content" id="tab-announcements">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Announcements</h3>
       <div class="form-group"><label for="announcementTitle">Title</label> <input type="text" id="announcementTitle" placeholder="Announcement title">
       </div>
       <div class="form-group"><label for="announcementDesc">Description</label> <textarea id="announcementDesc" placeholder="Announcement details"></textarea>
       </div><button class="btn btn-success" id="addAnnouncementBtn">Add Announcement</button>
       <div class="admin-list" id="announcementsList"></div>
      </div><!-- Assignments Tab -->
      <div class="tab-content" id="tab-assignments">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Assignments</h3>
       <div class="form-group"><label for="assignmentTitle">Title</label> <input type="text" id="assignmentTitle" placeholder="Assignment title">
       </div>
       <div class="form-group"><label for="assignmentDesc">Description</label> <textarea id="assignmentDesc" placeholder="Assignment details"></textarea>
       </div>
       <div class="form-group"><label for="assignmentDue">Due Date</label> <input type="date" id="assignmentDue">
       </div><button class="btn btn-success" id="addAssignmentBtn">Add Assignment</button>
       <div class="admin-list" id="assignmentsList"></div>
      </div><!-- Events Tab -->
      <div class="tab-content" id="tab-events">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Events</h3>
       <div class="form-group"><label for="eventTitle">Title</label> <input type="text" id="eventTitle" placeholder="Event title">
       </div>
       <div class="form-group"><label for="eventDate">Event Date</label> <input type="date" id="eventDate">
       </div>
       <div class="form-group"><label for="eventLocation">Location</label> <input type="text" id="eventLocation" placeholder="Event location">
       </div>
       <div class="form-group"><label for="eventDesc">Description</label> <textarea id="eventDesc" placeholder="Event details"></textarea>
       </div><button class="btn btn-success" id="addEventBtn">Add Event</button>
       <div class="admin-list" id="eventsList"></div>
      </div><!-- Research Tab -->
      <div class="tab-content" id="tab-research">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Research Posts</h3>
       <div class="form-group"><label for="researchTitle">Title</label> <input type="text" id="researchTitle" placeholder="Research title">
       </div>
       <div class="form-group"><label for="researchText">Abstract/Summary</label> <textarea id="researchText" placeholder="Research summary"></textarea>
       </div>
       <div class="form-group"><label for="researchLink">External Link</label> <input type="url" id="researchLink" placeholder="https://example.com">
       </div><button class="btn btn-success" id="addResearchBtn">Add Research Post</button>
       <div class="admin-list" id="researchList"></div>
      </div><!-- Students Tab -->
      <div class="tab-content" id="tab-students">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Manage Students</h3>
       <div class="form-group"><label for="studentName">Full Name</label> <input type="text" id="studentName" placeholder="Student name">
       </div>
       <div class="form-group"><label for="studentRole">Role/Position</label> <input type="text" id="studentRole" placeholder="e.g., Class President">
       </div>
       <div class="form-group"><label for="studentMotto">Motto in Life</label> <textarea id="studentMotto" placeholder="Student's personal motto"></textarea>
       </div><button class="btn btn-success" id="addStudentBtn">Add Student</button>
       <div class="admin-list" id="studentsList"></div>
      </div><!-- Contacts Tab -->
      <div class="tab-content" id="tab-contacts">
       <h3 style="margin-bottom: 24px; font-size: 24px; color: #1B5E20;">Contact Messages</h3>
       <p style="color: #666; margin-bottom: 24px;">View messages from students and visitors</p>
       <div class="admin-list" id="contactsList"></div>
      </div><button class="btn btn-danger" style="width: 100%; margin-top: 40px;" id="logoutBtn">Logout</button>
     </div>
    </div>
   </div>
  </div><!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script>
    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCc4tfKJDQaIajcAkcZH6_8PU4FC9_tyUY",
      authDomain: "machine-learning-a2301.firebaseapp.com",
      databaseURL: "https://machine-learning-a2301-default-rtdb.firebaseio.com",
      projectId: "machine-learning-a2301",
      storageBucket: "machine-learning-a2301.firebasestorage.app",
      messagingSenderId: ". ",
      appId: "1:. :web:64d8f4e4a59024314da7bd",
      measurementId: "G-3E6L78B5XK"
    };

    // HOW TO SETUP ADMINS IN FIREBASE REALTIME DATABASE:
    // 1. Go to Firebase Console > Realtime Database
    // 2. Create a node called "admins" at the root level
    // 3. Add your user UID as a child with value "true"
    //
    // Structure should look like:
    // {
    //   "admins": {
    //     "YOUR_USER_UID_HERE": true,
    //     "ANOTHER_USER_UID": true
    //   }
    // }
    //
    // To find your UID:
    // - Sign up/login to the portal first
    // - Open browser console (F12)
    // - Type: firebase.auth().currentUser.uid
    // - Copy the UID and add it to the admins node

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.database();

    // State
    let currentUser = null;
    let isAdmin = false;
    let carouselIndex = 0;
    let carouselImages = [];
    let carouselInterval = null;
    let allData = {
      students: [],
      events: [],
      research: [],
      announcements: [],
      assignments: []
    };

    // Default Config
    const defaultConfig = {
      main_title: "Grade 7‚ÄìMatapat",
      subtitle: "Cavite State University",
      room_motto: "Excellence in Education, Character, and Service",
      room_logo_path: "logo.png",
      github_username: "Landing749",
      github_repo: "7-Matapat",
      primary_color: "#1B5E20",
      accent_color: "#2E7D32",
      card_color: "#FFFFFF"
    };

    const config = { ...defaultConfig };

    // Load room logo
    function loadRoomLogo() {
      const logoPath = config.room_logo_path || defaultConfig.room_logo_path;
      if (logoPath) {
        const logoUrl = buildImageUrl(logoPath);
        const roomLogo = document.getElementById('roomLogo');
        const navRoomLogo = document.getElementById('navRoomLogo');
        const navRoomLogo2 = document.getElementById('navRoomLogo2');
        
        roomLogo.src = logoUrl;
        roomLogo.style.display = 'block';
        roomLogo.onerror = function() {
          this.style.display = 'none';
        };
        
        navRoomLogo.src = logoUrl;
        navRoomLogo.style.display = 'block';
        navRoomLogo.onerror = function() {
          this.style.display = 'none';
        };

        navRoomLogo2.src = logoUrl;
        navRoomLogo2.style.display = 'block';
        navRoomLogo2.onerror = function() {
          this.style.display = 'none';
        };
      }
    }

    // Utility Functions
    function showToast(message, isError = false) {
      const toast = document.createElement('div');
      toast.className = `toast ${isError ? 'error' : ''}`;
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 3500);
    }

    async function checkAdmin(uid) {
      const snapshot = await db.ref(`admins/${uid}`).once('value');
      return snapshot.val() === true;
    }

    // Mobile Menu Toggle
    const menuToggle = document.getElementById('menuToggle');
    const navbarMenu = document.getElementById('navbarMenu');

    menuToggle.addEventListener('click', () => {
      navbarMenu.classList.toggle('active');
      menuToggle.textContent = navbarMenu.classList.contains('active') ? 'ÔøΩÔøΩÔøΩ' : '‚ò∞';
    });

    // Close menu when clicking links
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', () => {
        navbarMenu.classList.remove('active');
        menuToggle.textContent = '‚ò∞';
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!navbarMenu.contains(e.target) && !menuToggle.contains(e.target)) {
        navbarMenu.classList.remove('active');
        menuToggle.textContent = '‚ò∞';
      }
    });

    // Navbar Scroll Effect
    window.addEventListener('scroll', () => {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    // Scroll Animations
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -100px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));

    // Auth State Management
    auth.onAuthStateChanged(async (user) => {
      currentUser = user;
      if (user) {
        isAdmin = await checkAdmin(user.uid);
        updateNavUI();
      } else {
        isAdmin = false;
        updateNavUI();
      }
    });

    function updateNavUI() {
      const navButtons = document.getElementById('navButtons');
      
      if (currentUser) {
        const initial = currentUser.email.charAt(0).toUpperCase();
        navButtons.innerHTML = `
          <div class="user-avatar" id="userAvatar" title="${currentUser.email}">${initial}</div>
        `;
        document.getElementById('userAvatar').addEventListener('click', () => {
          if (isAdmin) {
            openModal('admin');
          } else {
            showToast('You are logged in as a regular user');
          }
        });
      } else {
        navButtons.innerHTML = `
          <button class="btn btn-outline" id="loginNavBtn">Login</button>
          <button class="btn btn-primary" id="signupNavBtn">Sign Up</button>
        `;
        document.getElementById('loginNavBtn').addEventListener('click', () => openModal('login'));
        document.getElementById('signupNavBtn').addEventListener('click', () => openModal('signup'));
      }
    }

    // Modal Management
    function openModal(type) {
      const modal = document.getElementById('mainModal');
      const authSection = document.getElementById('authSection');
      const adminContent = document.getElementById('adminContent');
      const modalTitle = document.getElementById('modalTitle');

      if (type === 'admin' && isAdmin) {
        authSection.style.display = 'none';
        adminContent.style.display = 'block';
        modalTitle.textContent = 'Admin Panel';
      } else if (type === 'login') {
        authSection.style.display = 'block';
        adminContent.style.display = 'none';
        modalTitle.textContent = 'Login';
        switchAuthTab('login');
      } else if (type === 'signup') {
        authSection.style.display = 'block';
        adminContent.style.display = 'none';
        modalTitle.textContent = 'Sign Up';
        switchAuthTab('signup');
      }

      modal.classList.add('active');
    }

    function closeModal() {
      document.getElementById('mainModal').classList.remove('active');
    }

    document.getElementById('closeModal').addEventListener('click', closeModal);
    document.getElementById('mainModal').addEventListener('click', (e) => {
      if (e.target.id === 'mainModal') closeModal();
    });

    // Auth Tab Switching
    function switchAuthTab(tab) {
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.auth-content').forEach(c => c.style.display = 'none');
      
      document.querySelector(`[data-auth-tab="${tab}"]`).classList.add('active');
      document.getElementById(`auth-${tab}`).style.display = 'block';
    }

    document.querySelectorAll('.auth-tab').forEach(tab => {
      tab.addEventListener('click', () => switchAuthTab(tab.dataset.authTab));
    });

    // Login
    document.getElementById('loginBtn').addEventListener('click', async () => {
      const email = document.getElementById('loginEmail').value.trim();
      const password = document.getElementById('loginPassword').value;

      if (!email || !password) {
        showToast('Please enter email and password', true);
        return;
      }

      try {
        await auth.signInWithEmailAndPassword(email, password);
        showToast('Login successful!');
        closeModal();
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Google Login
    document.getElementById('googleLoginBtn').addEventListener('click', async () => {
      try {
        const provider = new firebase.auth.GoogleAuthProvider();
        await auth.signInWithPopup(provider);
        showToast('Login successful with Google!');
        closeModal();
      } catch (error) {
        if (error.code === 'auth/popup-closed-by-user') {
          showToast('Google sign-in was cancelled', true);
        } else {
          showToast(error.message, true);
        }
      }
    });

    // Signup
    document.getElementById('signupBtn').addEventListener('click', async () => {
      const email = document.getElementById('signupEmail').value.trim();
      const password = document.getElementById('signupPassword').value;
      const confirm = document.getElementById('signupConfirm').value;

      if (!email || !password || !confirm) {
        showToast('Please fill in all fields', true);
        return;
      }

      if (password !== confirm) {
        showToast('Passwords do not match', true);
        return;
      }

      if (password.length < 6) {
        showToast('Password must be at least 6 characters', true);
        return;
      }

      try {
        await auth.createUserWithEmailAndPassword(email, password);
        showToast('Account created successfully!');
        closeModal();
      } catch (error) {
        showToast(error.message, true);
      }
    });

    // Logout
    document.getElementById('logoutBtn').addEventListener('click', async () => {
      await auth.signOut();
      closeModal();
      showToast('Logged out successfully');
    });

    // Admin Tab Switching
    document.querySelectorAll('.admin-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(`tab-${tab.dataset.tab}`).classList.add('active');
      });
    });

    // Image Carousel
    function buildImageUrl(path) {
      const username = config.github_username || defaultConfig.github_username;
      const repo = config.github_repo || defaultConfig.github_repo;
      return `https://raw.githubusercontent.com/${username}/${repo}/main/${path}`;
    }

    function renderCarousel(images) {
      const container = document.getElementById('carouselContainer');
      carouselImages = images;

      if (images.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üñºÔ∏è</div>
            <div>No images yet.</div>
          </div>
        `;
        return;
      }

      const track = document.createElement('div');
      track.className = 'carousel-track';
      track.id = 'carouselTrack';

      images.forEach((img, index) => {
        const slide = document.createElement('div');
        slide.className = 'carousel-slide';
        const imgEl = document.createElement('img');
        imgEl.src = buildImageUrl(img.path);
        imgEl.alt = `Gallery image ${index + 1}`;
        imgEl.onerror = function() {
          this.src = '';
          this.alt = 'Image failed to load';
          this.style.display = 'none';
        };
        slide.appendChild(imgEl);
        
        const overlay = document.createElement('div');
        overlay.className = 'carousel-overlay';
        overlay.innerHTML = `<h3 style="font-size: 24px; margin: 0;">Image ${index + 1}</h3>`;
        slide.appendChild(overlay);
        
        track.appendChild(slide);
      });

      container.innerHTML = '';
      container.appendChild(track);

      if (images.length > 1) {
        const prevBtn = document.createElement('button');
        prevBtn.className = 'carousel-nav prev';
        prevBtn.innerHTML = '‚Äπ';
        prevBtn.addEventListener('click', () => moveCarousel(-1));

        const nextBtn = document.createElement('button');
        nextBtn.className = 'carousel-nav next';
        nextBtn.innerHTML = '‚Ä∫';
        nextBtn.addEventListener('click', () => moveCarousel(1));

        const indicators = document.createElement('div');
        indicators.className = 'carousel-indicators';
        images.forEach((_, i) => {
          const dot = document.createElement('button');
          dot.className = `indicator ${i === 0 ? 'active' : ''}`;
          dot.addEventListener('click', () => goToSlide(i));
          indicators.appendChild(dot);
        });

        container.appendChild(prevBtn);
        container.appendChild(nextBtn);
        container.appendChild(indicators);

        startCarouselAutoplay();
      }
    }

    function moveCarousel(direction) {
      carouselIndex = (carouselIndex + direction + carouselImages.length) % carouselImages.length;
      updateCarouselPosition();
    }

    function goToSlide(index) {
      carouselIndex = index;
      updateCarouselPosition();
    }

    function updateCarouselPosition() {
      const track = document.getElementById('carouselTrack');
      if (track) {
        track.style.transform = `translateX(-${carouselIndex * 100}%)`;
        document.querySelectorAll('.indicator').forEach((dot, i) => {
          dot.classList.toggle('active', i === carouselIndex);
        });
      }
    }

    function startCarouselAutoplay() {
      if (carouselInterval) clearInterval(carouselInterval);
      carouselInterval = setInterval(() => {
        moveCarousel(1);
      }, 5000);
    }

    // Firebase Listeners - Images
    db.ref('scrollerImages').on('value', (snapshot) => {
      const data = snapshot.val();
      const images = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      renderCarousel(images);
      renderAdminImages(images);
    });

    function renderAdminImages(images) {
      const list = document.getElementById('imagesList');
      if (images.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üñºÔ∏è</div><div>No images yet.</div></div>';
        return;
      }

      list.innerHTML = images.map(img => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${img.path}</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteImage('${img.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addImageBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const path = document.getElementById('imagePathInput').value.trim();
      if (!path) {
        showToast('Please enter an image path', true);
        return;
      }

      await db.ref('scrollerImages').push({ path });
      document.getElementById('imagePathInput').value = '';
      showToast('Image added successfully!');
    });

    window.deleteImage = async (id) => {
      if (!isAdmin) return;
      await db.ref(`scrollerImages/${id}`).remove();
      showToast('Image deleted successfully!');
    };

    // Announcements
    db.ref('announcements').on('value', (snapshot) => {
      const data = snapshot.val();
      const announcements = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      allData.announcements = announcements;
      renderAnnouncements(announcements);
      renderAdminAnnouncements(announcements);
    });

    function renderAnnouncements(announcements) {
      const container = document.getElementById('announcementsContainer');
      if (announcements.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üì¢</div><div>No announcements yet.</div></div>';
        return;
      }

      container.innerHTML = announcements.map(ann => `
        <div class="card">
          <div class="card-header" style="padding: 24px;">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
              <div class="card-icon" style="margin: 0;">üì¢</div>
              <div>
                <div class="card-title" style="margin: 0;">${ann.title}</div>
                <div class="card-meta" style="margin: 4px 0 0 0;">
                  <span class="card-meta-icon">üìÖ</span>
                  ${new Date(ann.datePosted).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                </div>
              </div>
            </div>
            <div class="card-content" style="margin: 0; padding-top: 12px; border-top: 1px solid #f0f0f0;">${ann.description}</div>
          </div>
        </div>
      `).join('');
    }

    function renderAdminAnnouncements(announcements) {
      const list = document.getElementById('announcementsList');
      if (announcements.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üì¢</div><div>No announcements yet.</div></div>';
        return;
      }

      list.innerHTML = announcements.map(ann => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${ann.title}</div>
            <div class="admin-item-meta">üìÖ ${new Date(ann.datePosted).toLocaleDateString()}</div>
            <div class="admin-item-desc">${ann.description}</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteAnnouncement('${ann.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addAnnouncementBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const title = document.getElementById('announcementTitle').value.trim();
      const description = document.getElementById('announcementDesc').value.trim();

      if (!title || !description) {
        showToast('Please fill in all fields', true);
        return;
      }

      await db.ref('announcements').push({
        title,
        description,
        datePosted: new Date().toISOString()
      });

      document.getElementById('announcementTitle').value = '';
      document.getElementById('announcementDesc').value = '';
      showToast('Announcement added successfully!');
    });

    window.deleteAnnouncement = async (id) => {
      if (!isAdmin) return;
      await db.ref(`announcements/${id}`).remove();
      showToast('Announcement deleted successfully!');
    };

    // Assignments
    db.ref('assignments').on('value', (snapshot) => {
      const data = snapshot.val();
      const assignments = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      allData.assignments = assignments;
      renderAssignments(assignments);
      renderAdminAssignments(assignments);
    });

    function renderAssignments(assignments) {
      const container = document.getElementById('assignmentsContainer');
      if (assignments.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìö</div><div>No assignments yet.</div></div>';
        return;
      }

      container.innerHTML = assignments.map(asn => `
        <div class="card">
          <div class="card-header" style="padding: 24px;">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
              <div class="card-icon" style="margin: 0;">üìö</div>
              <div>
                <div class="card-title" style="margin: 0;">${asn.title}</div>
                <div class="card-meta" style="margin: 4px 0 0 0;">
                  <span class="card-meta-icon">ÔøΩÔøΩ</span>
                  Due: ${new Date(asn.dueDate).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                </div>
              </div>
            </div>
            <div class="card-content" style="margin: 0; padding-top: 12px; border-top: 1px solid #f0f0f0;">${asn.description}</div>
          </div>
        </div>
      `).join('');
    }

    function renderAdminAssignments(assignments) {
      const list = document.getElementById('assignmentsList');
      if (assignments.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìö</div><div>No assignments yet.</div></div>';
        return;
      }

      list.innerHTML = assignments.map(asn => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${asn.title}</div>
            <div class="admin-item-meta">‚è∞ Due: ${new Date(asn.dueDate).toLocaleDateString()}</div>
            <div class="admin-item-desc">${asn.description}</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteAssignment('${asn.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addAssignmentBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const title = document.getElementById('assignmentTitle').value.trim();
      const description = document.getElementById('assignmentDesc').value.trim();
      const dueDate = document.getElementById('assignmentDue').value;

      if (!title || !description || !dueDate) {
        showToast('Please fill in all fields', true);
        return;
      }

      await db.ref('assignments').push({
        title,
        description,
        dueDate: new Date(dueDate).toISOString()
      });

      document.getElementById('assignmentTitle').value = '';
      document.getElementById('assignmentDesc').value = '';
      document.getElementById('assignmentDue').value = '';
      showToast('Assignment added successfully!');
    });

    window.deleteAssignment = async (id) => {
      if (!isAdmin) return;
      await db.ref(`assignments/${id}`).remove();
      showToast('Assignment deleted successfully!');
    };

    // Events
    db.ref('events').on('value', (snapshot) => {
      const data = snapshot.val();
      const events = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      allData.events = events;
      renderEvents(events);
      renderAdminEvents(events);
      updateStats();
    });

    function renderEvents(events) {
      const container = document.getElementById('eventsContainer');
      if (events.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìÖ</div><div>No events yet.</div></div>';
        return;
      }

      container.innerHTML = events.map(evt => `
        <div class="card">
          <div class="card-header" style="padding: 24px;">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
              <div class="card-icon" style="margin: 0;">üìÖ</div>
              <div>
                <div class="card-title" style="margin: 0;">${evt.title}</div>
                <div class="card-meta" style="margin: 4px 0 0 0;">
                  <span class="card-meta-icon">üìç</span>
                  ${evt.location}
                </div>
                <div class="card-meta" style="margin: 4px 0 0 0;">
                  <span class="card-meta-icon">üìÖ</span>
                  ${new Date(evt.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                </div>
              </div>
            </div>
            <div class="card-content" style="margin: 0; padding-top: 12px; border-top: 1px solid #f0f0f0;">${evt.description}</div>
          </div>
        </div>
      `).join('');
    }

    function renderAdminEvents(events) {
      const list = document.getElementById('eventsList');
      if (events.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üìÖ</div><div>No events yet.</div></div>';
        return;
      }

      list.innerHTML = events.map(evt => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${evt.title}</div>
            <div class="admin-item-meta">üìÖ ${new Date(evt.date).toLocaleDateString()} ‚Ä¢ üìç ${evt.location}</div>
            <div class="admin-item-desc">${evt.description}</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteEvent('${evt.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addEventBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const title = document.getElementById('eventTitle').value.trim();
      const date = document.getElementById('eventDate').value;
      const location = document.getElementById('eventLocation').value.trim();
      const description = document.getElementById('eventDesc').value.trim();

      if (!title || !date || !location || !description) {
        showToast('Please fill in all fields', true);
        return;
      }

      await db.ref('events').push({
        title,
        date: new Date(date).toISOString(),
        location,
        description
      });

      document.getElementById('eventTitle').value = '';
      document.getElementById('eventDate').value = '';
      document.getElementById('eventLocation').value = '';
      document.getElementById('eventDesc').value = '';
      showToast('Event added successfully!');
    });

    window.deleteEvent = async (id) => {
      if (!isAdmin) return;
      await db.ref(`events/${id}`).remove();
      showToast('Event deleted successfully!');
    };

    // Research
    db.ref('researchPosts').on('value', (snapshot) => {
      const data = snapshot.val();
      const posts = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      allData.research = posts;
      renderResearch(posts);
      renderAdminResearch(posts);
      updateStats();
    });

    function renderResearch(posts) {
      const container = document.getElementById('researchContainer');
      if (posts.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üî¨</div><div>No research posts yet.</div></div>';
        return;
      }

      container.innerHTML = posts.map(post => `
        <div class="card">
          <div class="card-header" style="padding: 24px;">
            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 12px;">
              <div class="card-icon" style="margin: 0;">üî¨</div>
              <div class="card-title" style="margin: 0;">${post.title}</div>
            </div>
            <div class="card-content" style="margin: 0; padding-top: 12px; border-top: 1px solid #f0f0f0;">${post.text}</div>
            ${post.link ? `
            <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid #f0f0f0;">
              <a href="${post.link}" target="_blank" rel="noopener noreferrer" class="card-link">
                Read More ÔøΩÔøΩ
              </a>
            </div>
            ` : ''}
          </div>
        </div>
      `).join('');
    }

    function renderAdminResearch(posts) {
      const list = document.getElementById('researchList');
      if (posts.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üî¨</div><div>No research posts yet.</div></div>';
        return;
      }

      list.innerHTML = posts.map(post => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${post.title}</div>
            <div class="admin-item-desc">${post.text}</div>
            ${post.link ? `<div class="admin-item-meta">üîó <a href="${post.link}" target="_blank" rel="noopener noreferrer">${post.link}</a></div>` : ''}
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteResearch('${post.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addResearchBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const title = document.getElementById('researchTitle').value.trim();
      const text = document.getElementById('researchText').value.trim();
      const link = document.getElementById('researchLink').value.trim();

      if (!title || !text) {
        showToast('Please fill in title and text', true);
        return;
      }

      await db.ref('researchPosts').push({
        title,
        text,
        link: link || null
      });

      document.getElementById('researchTitle').value = '';
      document.getElementById('researchText').value = '';
      document.getElementById('researchLink').value = '';
      showToast('Research post added successfully!');
    });

    window.deleteResearch = async (id) => {
      if (!isAdmin) return;
      await db.ref(`researchPosts/${id}`).remove();
      showToast('Research post deleted successfully!');
    };

    // Students
    let allStudents = [];

    db.ref('students').on('value', (snapshot) => {
      const data = snapshot.val();
      const students = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      allData.students = students;
      allStudents = students;
      renderStudents(students);
      renderAdminStudents(students);
      updateStats();
    });

    // Search functionality
    const searchInput = document.getElementById('studentSearch');
    const clearBtn = document.getElementById('clearSearch');

    searchInput.addEventListener('input', (e) => {
      const query = e.target.value.toLowerCase().trim();
      
      if (query) {
        clearBtn.style.display = 'flex';
        const filtered = allStudents.filter(student => 
          student.name.toLowerCase().includes(query) || 
          student.role.toLowerCase().includes(query)
        );
        renderStudents(filtered);
      } else {
        clearBtn.style.display = 'none';
        renderStudents(allStudents);
      }
    });

    clearBtn.addEventListener('click', () => {
      searchInput.value = '';
      clearBtn.style.display = 'none';
      renderStudents(allStudents);
      searchInput.focus();
    });

    function renderStudents(students) {
      const container = document.getElementById('studentsContainer');
      if (students.length === 0) {
        container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üë•</div><div>No students yet.</div></div>';
        return;
      }

      container.innerHTML = students.map(student => {
        const initial = student.name.charAt(0).toUpperCase();
        return `
          <div class="card student-card">
            <div class="student-avatar">${initial}</div>
            <div class="student-name">${student.name}</div>
            <div class="student-role">${student.role}</div>
            <div class="student-motto">"${student.motto}"</div>
          </div>
        `;
      }).join('');
    }

    function renderAdminStudents(students) {
      const list = document.getElementById('studentsList');
      if (students.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">üë•</div><div>No students yet.</div></div>';
        return;
      }

      list.innerHTML = students.map(student => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${student.name}</div>
            <div class="admin-item-meta">üíº ${student.role}</div>
            <div class="admin-item-desc">"${student.motto}"</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteStudent('${student.id}')">Delete</button>
        </div>
      `).join('');
    }

    document.getElementById('addStudentBtn').addEventListener('click', async () => {
      if (!isAdmin) return;
      const name = document.getElementById('studentName').value.trim();
      const role = document.getElementById('studentRole').value.trim();
      const motto = document.getElementById('studentMotto').value.trim();

      if (!name || !role || !motto) {
        showToast('Please fill in all fields', true);
        return;
      }

      await db.ref('students').push({
        name,
        role,
        motto
      });

      document.getElementById('studentName').value = '';
      document.getElementById('studentRole').value = '';
      document.getElementById('studentMotto').value = '';
      showToast('Student added successfully!');
    });

    window.deleteStudent = async (id) => {
      if (!isAdmin) return;
      await db.ref(`students/${id}`).remove();
      showToast('Student deleted successfully!');
    };

    // Contact Form
    document.getElementById('contactForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const name = document.getElementById('contactName').value.trim();
      const email = document.getElementById('contactEmail').value.trim();
      const concern = document.getElementById('contactConcern').value.trim();
      const submitBtn = document.getElementById('submitContactBtn');

      if (!name || !email || !concern) {
        showToast('Please fill in all fields', true);
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';

      try {
        await db.ref('contacts').push({
          name,
          email,
          concern,
          dateSubmitted: new Date().toISOString(),
          status: 'unread'
        });

        showToast('Message sent successfully! We\'ll get back to you soon.');
        document.getElementById('contactForm').reset();
      } catch (error) {
        showToast('Failed to send message. Please try again.', true);
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Send Message';
      }
    });

    // Contacts Listener
    db.ref('contacts').on('value', (snapshot) => {
      const data = snapshot.val();
      const contacts = data ? Object.keys(data).map(key => ({ id: key, ...data[key] })) : [];
      renderAdminContacts(contacts);
    });

    function renderAdminContacts(contacts) {
      const list = document.getElementById('contactsList');
      if (contacts.length === 0) {
        list.innerHTML = '<div class="empty-state"><div class="empty-state-icon">‚úâÔ∏è</div><div>No contact messages yet.</div></div>';
        return;
      }

      // Sort by date, newest first
      contacts.sort((a, b) => new Date(b.dateSubmitted) - new Date(a.dateSubmitted));

      list.innerHTML = contacts.map(contact => `
        <div class="admin-item">
          <div class="admin-item-content">
            <div class="admin-item-title">${contact.name}</div>
            <div class="admin-item-meta">
              üìß ${contact.email} ‚Ä¢ üìÖ ${new Date(contact.dateSubmitted).toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
              })}
            </div>
            <div class="admin-item-desc">${contact.concern}</div>
          </div>
          <button class="btn btn-danger btn-small" onclick="deleteContact('${contact.id}')">Delete</button>
        </div>
      `).join('');
    }

    window.deleteContact = async (id) => {
      if (!isAdmin) return;
      await db.ref(`contacts/${id}`).remove();
      showToast('Contact message deleted successfully!');
    };

    // Update Stats
    function updateStats() {
      document.getElementById('statsStudents').textContent = allData.students.length;
      document.getElementById('statsEvents').textContent = allData.events.length;
      document.getElementById('statsResearch').textContent = allData.research.length;
    }

    // Element SDK Integration
    async function onConfigChange(newConfig) {
      document.getElementById('mainTitle').textContent = newConfig.main_title || defaultConfig.main_title;
      document.getElementById('subtitle').textContent = newConfig.subtitle || defaultConfig.subtitle;
      document.getElementById('roomMotto').textContent = newConfig.room_motto || defaultConfig.room_motto;

      loadRoomLogo();

      const primaryColor = newConfig.primary_color || defaultConfig.primary_color;
      const accentColor = newConfig.accent_color || defaultConfig.accent_color;

      const style = document.createElement('style');
      style.textContent = `
        .hero { background: linear-gradient(135deg, ${primaryColor} 0%, ${accentColor} 50%, ${accentColor}dd 100%); }
        .section-title, .card-title, .admin-item-title, .student-name, .admin-tab.active, .navbar-brand { color: ${primaryColor} !important; }
        .brand-logo, .card-icon, .student-avatar { background: linear-gradient(135deg, ${primaryColor}, ${accentColor}) !important; }
        .btn-success, .btn-primary, .modal-header, .auth-tab.active { background: linear-gradient(135deg, ${primaryColor}, ${accentColor}) !important; }
        .section-badge { background: ${primaryColor}1a !important; color: ${primaryColor} !important; }
        .card::before { background: linear-gradient(90deg, ${primaryColor}, ${accentColor}, ${accentColor}dd) !important; }
        .nav-link::after, .student-motto { border-color: ${primaryColor} !important; }
        .carousel-nav:hover { background: ${primaryColor} !important; }
        .btn-outline { color: ${primaryColor} !important; border-color: ${primaryColor} !important; }
        .btn-outline:hover { background: ${primaryColor} !important; }
      `;
      document.head.appendChild(style);

      if (carouselImages.length > 0) {
        renderCarousel(carouselImages);
      }
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                config.primary_color = value;
                window.elementSdk.setConfig({ primary_color: value });
              }
            },
            {
              get: () => config.accent_color || defaultConfig.accent_color,
              set: (value) => {
                config.accent_color = value;
                window.elementSdk.setConfig({ accent_color: value });
              }
            },
            {
              get: () => config.card_color || defaultConfig.card_color,
              set: (value) => {
                config.card_color = value;
                window.elementSdk.setConfig({ card_color: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["subtitle", config.subtitle || defaultConfig.subtitle],
          ["room_motto", config.room_motto || defaultConfig.room_motto],
          ["room_logo_path", config.room_logo_path || defaultConfig.room_logo_path],
          ["github_username", config.github_username || defaultConfig.github_username],
          ["github_repo", config.github_repo || defaultConfig.github_repo]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a942026d5fbfcf3',t:'MTc2NDk0MzgxMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
